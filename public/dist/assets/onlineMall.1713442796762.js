import{r as a,u as l,Z as e,b as s,c as t,d as o,e as n,k as i,h as r,j as u,a5 as d,a1 as p,F as c,f as g,n as m,x as v,l as b,p as k,q as x,g as f,aB as y,m as h,G as C,I as z}from"./index.1713442796762.js";import{a as _}from"./href.1713442796762.js";import"./dialog.1713442796762.js";const j=[{sort:5,name:"记事本",size:"1x1",src:"/static/note.png",url:"/noteApp",type:"icon",app:1,pid:null,bgColor:"rgba(252,141,0,1)",tips:"快捷记录您的日常笔记和灵感多端同步！"},{app:0,pid:null,src:"/static/editAll.png",url:"tab://editAll",name:"批量编辑",size:"1x1",sort:12,bgColor:"rgba(255,255,255,1)",tips:"快捷批量编辑您的桌面标签",type:"icon"},{sort:13,name:"添加标签",size:"1x1",src:"/static/addIco.png",url:"tab://addicon",type:"icon",bgColor:"rgba(255,255,255,1)",tips:"添加您的标签或卡片组件",app:0,pid:null},{app:0,pid:null,src:"/static/backgroundIco.png",url:"tab://background",name:"壁纸",bgColor:"rgba(255,255,255,1)",tips:"设置自己的个性首页背景",size:"1x1",sort:8,type:"icon"},{app:0,pid:null,src:"/static/setting.png",url:"tab://setting",name:"设置",bgColor:"rgba(149,168,184,1)",tips:"系统设置面板以及个人中心",size:"1x1",sort:8,type:"icon"}];const L={class:"onlinemall"},S={class:"px-4 xs:w-2/3 m-auto",style:{"margin-top":"5px"}},w=["onWheel"],A=["onClick"],G={class:"linkscroll"},I={class:"linklist grid sm:grid-cols-3 grid-cols-2 mt-2"},M={class:"links"},V=["src"],B={class:"linkTips"},F={class:"text-sm font-bold"},K={class:"text-xs"},T={class:"mt-2 flex items-center justify-end"},W={class:"flex justify-center mb-4 mt-4"},q={__name:"onlineMall",setup(q){const U=a([]),X=l(),Y=a(0),Z=a(""),D=a(1),E=a(0),H=a([]);e({url:"/LinkStore/getFolder"}).then((a=>{a.data.unshift({id:0,name:"全部"}),a.data.unshift({id:-1,name:"系统内置"}),U.value=a.data}));const J=a(""),N=a=>{const{scrollLeft:l=0}=J.value,{deltaY:e=0,deltaX:s=0}=a;let t=Math.abs(s)>Math.abs(e)?s:e;J.value.scrollTo({top:0,left:t+l})},O=()=>{e({url:"/LinkStore/list",method:"post",data:{area:Y.value,name:Z.value,page:D.value}}).then((a=>{H.value=a.data.data,E.value=a.data.total}))},P=a=>{D.value=a,O()};return O(),(a,l)=>{const q=s("el-icon"),Q=s("el-input"),R=s("el-button"),$=s("el-pagination");return t(),o("div",L,[n("div",S,[i(Q,{modelValue:Z.value,"onUpdate:modelValue":l[0]||(l[0]=a=>Z.value=a),class:"iconSearch",placeholder:"快捷搜索标签",onKeydown:p(O,["enter"])},{suffix:r((()=>[i(q,{color:"#5d5d5d",size:"20px"},{default:r((()=>[i(u(d))])),_:1})])),_:1},8,["modelValue","onKeydown"])]),n("div",{class:"linkarea select-none space-x-2 mt-4",ref_key:"areaBox",ref:J,onWheel:b(N,["stop","prevent"])},[(t(!0),o(c,null,g(U.value,(a=>(t(),o("div",{class:m(a.id===Y.value?"background-orange":""),onClick:l=>(a=>{if(-1===a)return H.value=j,Y.value=a,void(E.value=j.length);a!==Y.value&&(Y.value=a,D.value=1,O())})(a.id)},v(a.name),11,A)))),256))],40,w),n("div",G,[n("div",I,[(t(!0),o(c,null,g(H.value,(a=>(t(),o("div",{key:a.id},[n("div",M,[n("img",{style:k({backgroundColor:a.bgColor}),src:u(x)(a.src),class:"linklogo",alt:""},null,12,V),n("div",B,[n("span",F,v(a.name),1),n("div",K,v(a.tips),1)])]),n("div",T,[-1!==Y.value&&(null==a?void 0:a.app)<=0?(t(),f(q,{key:0,size:"20px",class:"hover:text-blue-400 hover",onClick:l=>u(_)(a.url,!0)},{default:r((()=>[i(u(y))])),_:2},1032,["onClick"])):h("",!0),i(R,{style:{"background-color":"rgba(238,238,238,0.46)"},size:"small",class:"ml-2",round:"",onClick:l=>(a=>{let l={sort:99999,id:z(),name:a.name,size:"1x1",src:a.src,url:a.url,type:a.type,app:a.app,tips:a.tips,origin_id:a.id,bgColor:a.bgColor,pageGroup:X.state.pageGroup,custom:a.custom};X.state.link.push(l),X.commit("updateLink"),e({url:"/LinkStore/install_num",method:"post",data:{id:a.id}}).finally((a=>{}))})(a)},{default:r((()=>[C("添加 ")])),_:2},1032,["onClick"])])])))),128))]),n("div",W,[E.value>15?(t(),f($,{key:0,layout:"prev, pager, next","page-size":15,total:E.value,onCurrentChange:P},null,8,["total"])):h("",!0)])])])}}};export{q as default};

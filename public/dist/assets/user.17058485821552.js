import{r as e,u as s,w as a,c as o,d as l,j as t,e as n,x as r,l as i,m as c,a1 as d,a2 as u,M as p,X as v,q as h,Y as g,ah as f}from"./index.1705848582155.js";import{b}from"./href.1705848582155.js";const x={class:"user-control space-y-2"},m={key:0,class:"space-y-3 grid grid-cols-3 gap-x-3"},k={class:"col-span-3"},y={class:"group before:hover:scale-95 before:hover:h-72 before:hover:w-full before:hover:h-full before:hover:rounded-b-2xl before:transition-all before:duration-500 before:content-[''] before:w-full before:h-24 before:rounded-t-2xl before:bg-gradient-to-bl from-sky-200 via-orange-200 to-orange-700 before:absolute before:top-0 w-full h-64 relative bg-white flex flex-col items-center justify-center gap-2 text-center rounded-xl overflow-hidden"},w={class:"w-28 h-28 bg-white mt-8 overflow-hidden rounded-full border-4 border-slate-50 z-10 group-hover:scale-150 group-hover:-translate-x-24 group-hover:-translate-y-20 transition-all duration-500"},C=["src"],B={class:"z-10 group-hover:text-white group-hover:-translate-y-4 transition-all duration-500"},z=n("span",{class:"text-2xl font-semibold"},"我的账号",-1),j={style:{height:"20px"}},L={style:{color:"#a686ba"}},_={class:"iconfont mt-2"},M={style:{width:"30px",height:"30px"},t:"1705845546796",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"21733",width:"32",height:"32"},A=[n("path",{d:"M512 0a512 512 0 1 0 512 512A512.606923 512.606923 0 0 0 512 0z m430.793741 512A430.793741 430.793741 0 1 1 512 81.327643a431.279279 431.279279 0 0 1 430.793741 430.672357z",fill:"#a686ba","p-id":"21734"},null,-1),n("path",{d:"M771.277383 471.336178h-218.492177v-218.492176a40.663822 40.663822 0 0 0-81.327643 0v218.492176h-218.492177a40.663822 40.663822 0 0 0 0 81.327644h218.492177v218.492176a40.663822 40.663822 0 0 0 81.327643 0v-218.492176h218.492177a40.663822 40.663822 0 0 0 0-81.327644z",fill:"#a686ba","p-id":"21735"},null,-1)],O=n("span",{style:{"margin-top":"7px"}},"添加标签",-1),J=[n("div",{class:"text-black"},[n("span",{class:"iconfont icon-xiugaimima"}),n("span",null,"修改密码")],-1)],N={userBox:"",class:"hover user-card relative"},S=n("div",{class:"text-green-500"},[n("span",{class:"iconfont icon-daoru"}),n("span",null,"导入标签")],-1),T=["onChange"],q=["onClick"],F=[n("div",{class:"text-blue-500"},[n("span",{class:"iconfont icon-daochu"}),n("span",null,"导出标签")],-1)],R=["onClick"],X=[n("div",{class:"text-yellow-500"},[n("span",{class:"iconfont icon-zhongzhi"}),n("span",null,"重置标签")],-1)],Y=["onClick"],D=[n("div",{class:"text-cyan-500"},[n("span",{class:"iconfont icon-yanshengguanliyuan"}),n("span",null,"管理后台")],-1)],E=[n("div",{class:"text-red-500"},[n("span",{class:"iconfont icon-tuichudenglu"}),n("span",null,"退出登录")],-1)],G={key:1,class:"space-y-2 grid grid-cols-3 gap-x-3"},H=n("div",{userBox:"",class:"col-span-3",style:{"align-items":"start"}},[n("span",{class:"text-blue-400"},[d(" 登录即可享更多功能和数据同步 "),n("br"),d(" 传输双重数据加密更加安全 ")])],-1),I=["onClick"],K=[n("div",{class:"text-yellow-500"},[n("span",{class:"iconfont icon-zhongzhi"}),n("span",null,"重置图标")],-1)],P=["onClick"],Q=[n("div",{class:"text-blue-500"},[n("span",{class:"iconfont icon-daochu"}),n("span",null,"导出图标")],-1)],U=[n("div",{class:"ml-2 text-emerald-600"},[n("span",{class:"iconfont icon-dengluzhanghu"}),n("span",null,"立即登录")],-1)],V={__name:"user",setup(d){const V=e({}),W=s(),Z=async()=>{try{await u.confirm("重置将会恢复到初始状态，是否重置图标？","温馨提示")}catch(e){return}p.del("link").del("config").del("tabbar"),v({url:"/link/reset"}).then((e=>{1===e.code&&h.emit("reload")}))},$=()=>{window.open("/Manager","__blank"),h.emit("openController",!1)},ee=()=>{v({url:"/user/get"}).then((e=>{1===e.code?V.value=e.data:(W.state.isLogin=!1,p.del("token").del("user_id"))}))},se=e=>{h.emit("openController",!1),h.emit("openLogin",e)},ae=e=>{const[s=null]=e.target.files;if(s){const e=new FileReader;e.onload=e=>{const{result:s=""}=e.target;try{const e=JSON.parse(s),{link:a=!1,tabbar:o=!1}=e;a&&W.commit("updateLink",a),o&&W.commit("updateTabbar",o)}catch(a){g.error("导入失败，请检查文件内容")}},e.readAsText(s)}},oe=()=>{f("link",JSON.stringify({link:W.state.link,tabbar:W.state.tabbar}))};return a((()=>W.state.isLogin),(e=>{e&&ee()})),ee(),(e,s)=>{var a;return o(),l("div",x,[t(W).state.isLogin?(o(),l("div",m,[n("div",k,[n("div",y,[n("div",w,[n("img",{style:{width:"80%",margin:"auto"},src:t("/dist/assets/avatar.1705848582155.png"),alt:"头像"},null,8,C)]),n("div",B,[z,n("p",j,r(null==(a=V.value)?void 0:a.mail),1)])])]),n("div",{userBox:"",onClick:s[0]||(s[0]=i((e=>(b("tab://addicon"),void h.emit("openController",!1))),["stop"])),class:"hover user-card"},[n("div",L,[n("span",_,[(o(),l("svg",M,A))]),O])]),n("div",{userBox:"",onClick:s[1]||(s[1]=i((e=>se(3)),["stop"])),class:"hover user-card"},J),n("div",N,[S,n("input",{class:"absolute top-0 left-0 w-full h-full opacity-0 text-sm",type:"file",accept:".json",onChange:i(ae,["stop"])},null,40,T)]),n("div",{userBox:"",onClick:i(oe,["stop"]),class:"hover user-card"},F,8,q),n("div",{userBox:"",onClick:i(Z,["stop"]),class:"hover user-card"},X,8,R),1===V.value.manager?(o(),l("div",{key:0,userBox:"",onClick:i($,["stop"]),class:"hover user-card"},D,8,Y)):c("",!0),n("div",{userBox:"",onClick:s[2]||(s[2]=i((e=>t(W).commit("loginOut")),["stop"])),class:"hover user-card"},E)])):(o(),l("div",G,[H,n("div",{userBox:"",onClick:i(Z,["stop"]),class:"hover"},K,8,I),n("div",{userBox:"",onClick:i(oe,["stop"]),class:"hover user-card"},Q,8,P),n("div",{userBox:"",onClick:s[3]||(s[3]=i((e=>se(1)),["stop"])),class:"hover"},U)]))])}}};export{V as default};

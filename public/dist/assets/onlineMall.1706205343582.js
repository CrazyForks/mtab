import{r as a,u as l,X as e,b as s,c as t,d as n,e as i,k as o,h as r,j as d,$ as u,af as c,F as p,f as v,n as m,x as g,l as f,p as k,an as x,a1 as h,g as b,m as y,ac as C}from"./index.1706205343582.js";import{b as z}from"./href.1706205343582.js";const _=[{sort:5,name:"记事本",size:"1x1",src:"/static/note.png",url:"/noteApp",type:"icon",app:1,pid:null,tips:"快捷记录您的日常笔记和灵感多端同步！"},{app:0,pid:null,src:"/static/editAll.png",url:"tab://editAll",name:"批量编辑",size:"1x1",sort:12,tips:"快捷批量编辑您的桌面标签",type:"icon"},{sort:13,name:"添加标签",size:"1x1",src:"/static/addIco.png",url:"tab://addicon",type:"icon",tips:"添加您的标签或卡片组件",app:0,pid:null},{app:0,pid:null,src:"/static/setting.png",url:"tab://setting",name:"设置",tips:"系统设置面板以及个人中心",size:"1x1",sort:8,type:"icon"}];const j={class:"onlinemall"},L={class:"px-4 w-2/3 m-auto"},S=["onWheel"],w=["onClick"],A={class:"linkscroll"},M={class:"linklist grid grid-cols-3 mt-2"},V={class:"links"},F=["src"],K={class:"linkTips"},T={class:"text-sm font-bold"},W={class:"text-xs"},X={class:"mt-2 flex items-center justify-end"},B={class:"flex justify-center"},I={__name:"onlineMall",setup(I){const U=a([]),Y=l(),$=a(0),q=a(""),D=a(1),E=a(0),G=a([]);e({url:"/linkStore/getFolder"}).then((a=>{a.data.unshift({id:0,name:"全部"}),a.data.unshift({id:-1,name:"系统内置"}),U.value=a.data}));const H=a(""),J=a=>{const{scrollLeft:l=0}=H.value,{deltaY:e=0,deltaX:s=0}=a;let t=Math.abs(s)>Math.abs(e)?s:e;H.value.scrollTo({top:0,left:t+l})},N=()=>{e({url:"/LinkStore/list",method:"post",data:{area:$.value,name:q.value,page:D.value}}).then((a=>{G.value=a.data.data,E.value=a.data.total}))},O=a=>{D.value=a,N()};return N(),(a,l)=>{const I=s("el-icon"),P=s("el-input"),Q=s("el-button"),R=s("el-pagination");return t(),n("div",j,[i("div",L,[o(P,{modelValue:q.value,"onUpdate:modelValue":l[0]||(l[0]=a=>q.value=a),class:"iconSearch",placeholder:"快捷搜索标签",onKeydown:c(N,["enter"])},{suffix:r((()=>[o(I,{color:"#5d5d5d",size:"20px"},{default:r((()=>[o(d(u))])),_:1})])),_:1},8,["modelValue","onKeydown"])]),i("div",{class:"linkarea select-none space-x-2 mt-4",ref_key:"areaBox",ref:H,onWheel:f(J,["stop","prevent"])},[(t(!0),n(p,null,v(U.value,(a=>(t(),n("div",{class:m(a.id===$.value?"background-orange":""),onClick:l=>(a=>{if(-1===a)return G.value=_,void($.value=a);a!==$.value&&($.value=a,D.value=1,N())})(a.id)},g(a.name),11,w)))),256))],40,S),i("div",A,[i("div",M,[(t(!0),n(p,null,v(G.value,(a=>(t(),n("div",{key:a.id},[i("div",V,[i("img",{style:k({backgroundColor:a.bgColor}),src:a.src,class:"linklogo",alt:""},null,12,F),i("div",K,[i("span",T,g(a.name),1),i("div",W,g(a.tips),1)])]),i("div",X,[o(I,{size:"20px",class:"hover:text-blue-400 hover",onClick:l=>d(z)(a.url,!0)},{default:r((()=>[o(d(x))])),_:2},1032,["onClick"]),o(Q,{style:{"background-color":"rgba(238,238,238,0.46)"},size:"small",class:"ml-2",round:"",onClick:l=>(a=>{let l={sort:99999,id:C(),name:a.name,size:a.size,src:a.src,url:a.url,type:a.type,app:a.app,tips:a.tips,origin_id:a.id,bgColor:a.bgColor};Y.state.link.push(l),Y.commit("updateLink"),e({url:"/LinkStore/install_num",method:"post",data:{id:a.id}}).finally((a=>{}))})(a)},{default:r((()=>[h("添加 ")])),_:2},1032,["onClick"])])])))),128))]),i("div",B,[E.value>15?(t(),b(R,{key:0,layout:"prev, pager, next","page-size":15,total:E.value,onCurrentChange:O},null,8,["total"])):y("",!0)])])])}}};export{I as default};

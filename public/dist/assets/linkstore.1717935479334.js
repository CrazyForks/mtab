import{r as e,u as l,S as a,b as t,K as o,c as u,d as s,e as d,F as r,f as i,g as n,h as c,n as p,x as m,T as v,i as g,j as f,q as h,G as b,m as x,k as y,l as w,H as k,a as _,v as V,aB as C,aC as z,V as U,az as j,ay as S,aD as L,p as O,U as I,aE as A,aa as E}from"./index.1717935479334.js";import{S as W}from"./sortable.esm.1717935479334.js";import{_ as F}from"./wapp.1717935479334.js";import{T}from"./textIcon.1717935479334.js";const B={class:"globalLink"},D={class:"globalLink-left relative"},R={class:"w-full h-full absolute overflow-y-scroll p-4 space-y-1"},q=["onClick"],G={class:"globalLink-right p-4 pl-4"},J={class:"globalLink-right-item"},K={class:"p-4 bg-gray-50 rounded-lg transition-all hover:bg-gray-200"},N={class:"flex"},P=["src"],H={class:"flex items-center justify-between w-full"},M={style:{width:"calc(100% - 50px)"}},Y={class:"text-lg font-bold flex items-center"},$={class:"mr-2"},Q={key:0,style:{width:"20px",height:"20px"},src:F},X={class:"text-sm text-gray-500 text-ellipsis whitespace-nowrap overflow-hidden",style:{width:"230px"}},Z={class:"mt-2 flex items-center"},ee={class:"text-sm"},le={key:1,style:{"z-index":"9999999"},class:"absolute w-full flex-col flex justify-center items-center h-full bg-gray-400 z-20 bg-opacity-100 rounded-lg"},ae=[d("div",{class:"text-4xl font-bold text-white"}," 此功能属于高级版本请获取授权后使用 喵呜～ ",-1),d("a",{href:"https://mtab.cc/pricing.html",target:"_blank",class:"mt-6 text-xs p-2 px-6 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full ml-8 text-white"},"获取订阅授权解锁更多功能",-1)],te={class:"fenYe"},oe={__name:"globalLink",setup(_){const V=e([]),C=e(!0),z=e(),U=e([]),j=l(),S=e({current_page:1,per_page:18,total:0,data:[]}),L=e=>{z.value=e.id,S.value.data=[],C.value=!0,I()};sessionStorage.getItem("folders")?(U.value=JSON.parse(sessionStorage.getItem("folders")),U.value.length>0&&L(U.value[0])):a({url:"/admin.Index/folders"}).then((e=>{1===e.code&&(U.value=e.data,U.value.length>0&&L(U.value[0]),sessionStorage.setItem("folders",JSON.stringify(e.data)))}));const O=({name:e,url:l})=>!V.value.find((a=>a.name===e||a.url===l));function I(){if(!j.state.site.auth)return void(C.value=!1);let e=z.value;a({url:"/admin.Index/links",params:{folders:e,page:S.value.current_page,limit:S.value.per_page}}).then((l=>{1===l.code&&z.value===e&&(S.value=l.data,V.value=l.local)})).finally((e=>{C.value=!1}))}const A=e=>{S.value.data=[],S.value.current_page=e,C.value=!0,I()};return(e,l)=>{const _=t("el-button"),I=t("el-empty"),E=t("el-pagination"),W=o("loading");return u(),s("div",B,[d("div",{onClick:l[0]||(l[0]=w((()=>{}),["stop"])),class:"globalLinkItem"},[d("div",D,[d("div",R,[(u(!0),s(r,null,i(U.value,(e=>(u(),n(v,{key:e.id},{default:c((()=>[d("div",{onClick:l=>L(e),class:p(["cursor-pointer px-4 py-2 rounded-lg text-sm transition-all",{"bg-rose-500 text-white":z.value===e.id}])},m(e.name),11,q)])),_:2},1024)))),128))])]),d("div",G,[g((u(),s("div",J,[f(j).state.site.auth?(u(!0),s(r,{key:0},i(S.value.data,(e=>(u(),n(v,{key:e.id},{default:c((()=>[d("div",K,[d("div",N,[d("img",{src:f(h)(e.src),style:{width:"50px",height:"50px","border-radius":"8px","margin-right":"10px","object-fit":"cover","flex-shrink":"0"},alt:""},null,8,P),d("div",H,[d("div",M,[d("div",Y,[d("span",$,m(e.name),1),b(),1===e.app?(u(),s("img",Q)):x("",!0)]),d("div",X,m(e.url),1)]),O(e)?(u(),n(_,{key:0,type:"danger",class:"ml-2",size:"small",onClickOnce:l=>(e=>{a({url:"/LinkStore/addPublic",method:"post",data:e}).then((e=>{1===e.code&&V.value.push(e.data),k.success(e.msg)}))})(e)},{default:c((()=>[b("添加")])),_:2},1032,["onClickOnce"])):x("",!0)])]),d("div",Z,[d("div",ee,m(e.tips),1)])])])),_:2},1024)))),128)):(u(),s("div",le,ae))])),[[W,C.value]]),C.value||0!==S.value.data.length?x("",!0):(u(),n(I,{key:0,description:"我也母鸡到啊~ 他没数据啊！换其他分类试试",class:"col-auto"})),d("div",te,[y(E,{"current-page":S.value.current_page,"page-size":S.value.per_page,onCurrentChange:A,layout:"prev, pager, next, jumper",total:S.value.total,"page-sizes":[18,27,30]},null,8,["current-page","page-size","total"])])])])])}}};const ue={class:"flex gap-2 h-full"},se={class:"flex flex-col flex-shrink-0 bg-white w-52 px-2 py-4 rounded-lg",style:{height:"calc(100vh - 30px)"}},de={class:"h-full relative overflow-y-scroll leftScrollBackground"},re={class:"space-y-1 mb-4",id:"list"},ie=["onClick","data-id"],ne={class:"flex items-center pr-1"},ce={key:0,class:"flex items-center gap-2"},pe={class:"sticky bottom-0 flex justify-center"},me={class:"linkstoreAdmin flex-1",style:{width:"calc(100% - 220px)"}},ve={class:"p-4 bg-white rounded-lg overflow-hidden flex flex-wrap gap-4"},ge={class:"ml-auto"},fe=d("span",{class:"ml-1"},"刷新",-1),he={class:"mt-2 p-4 bg-white rounded-lg overflow-hidden w-full"},be=["src"],xe={style:{display:"flex","align-items":"center",width:"100%"}},ye=["src"],we=d("div",{class:"text-xs mt-1 text-red-500"},"* 如果用户在添加自定义标签时，如果商城有匹配的域名，则直接使用商城的标签信息，不会去抓取目标图标了。 ",-1),ke={class:"w-full relative"},_e={key:0,class:"absolute w-full flex-col flex justify-center items-center h-full bg-black z-20 bg-opacity-50 rounded-lg cursor-no-drop"},Ve=[d("div",{class:"text-4xl font-bold text-white"}," 此功能属于高级版本请获取授权后使用 ",-1),d("a",{href:"https://mtab.cc/pricing.html",target:"_blank",class:"mt-6 text-xs p-2 px-6 bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full ml-8 text-white"},"获取订阅授权解锁更多功能",-1)],Ce={class:"border p-4 rounded-lg flex gap-x-4 w-full"},ze={class:"flex gap-x-2"},Ue={class:"border p-4 mt-4 rounded-lg flex gap-x-4 w-full"},je={class:"bgColorPicker"},Se=["onClick"],Le={key:0,class:"touming"},Oe={key:0,style:{"font-size":"20px",color:"#ff0000",inset:"-5px 3px",position:"relative"}},Ie={key:0,style:{"font-size":"20px",color:"#d9d9d9",inset:"-5px 3px",position:"relative"}},Ae=d("div",{class:"mb-2"}," 分类名称 ",-1),Ee={class:"flex mt-6 mb-2"},We={__name:"linkstore",setup(h){const F=e(!1);let B=null;const D=e(0),R=e(!0),q=e(),G=e([]),J=e=>{G.value=e},K=e(!1),N=async()=>{await a({url:"/Link/refreshWebAppCache"}),k.success("用户端WebApp刷新完毕，用户刷新后可看到最新数据")};_((()=>{let e=document.getElementById("list");if(e){const l={animation:200,delay:500,delayOnTouchOnly:!0,draggable:".item",onUpdate:function(e){let l=B.toArray(),t=[],o=l.length;l.forEach(((e,l)=>{t.push({id:parseInt(e),sort:o-l})})),a({url:"/LinkStore/sortFolder",method:"post",data:t}).then((e=>{e.code}))}};B=W.create(e,l)}}));const P={id:"",name:"",sort:0},H=e(Object.assign({},P)),M=e([]),Y=["rgba(0,0,0,0)","#fff","rgb(22, 129, 255)","rgb(251, 190, 35)","rgb(252, 69, 72)","rgb(75, 60, 54)","rgb(125, 172, 104)","rgb(2, 51, 115)","rgb(200, 172, 112)","rgb(55, 33, 40)","rgb(5, 64, 146)"],$=()=>{R.value=!0,a({url:"/LinkStore/getFolder"}).then((e=>{M.value=e.data,M.value.unshift({id:0,name:"全部标签"})})).finally((e=>{R.value=!1}))};$();const Q=e({name:"",area:""}),X=()=>{K.value=!0},Z=(e="")=>{if(e){e=e.split(",");const l=[];return e.forEach((e=>{const a=M.value.find((l=>l.id.toString()===e));a&&l.push(a.name)})),l.join(",")}return""},ee=e(!1),le=l(),ae=e(!1),te=e({}),We={immersion:0,width:1200,height:700,controllerColor:"#ffffff",maximize:1,minimization:1,resize:1,userEdit:0},Fe=()=>{te.value={area:[],custom:Object.assign({},We)},D.value>0&&(te.value.area=[D.value.toString()]),ae.value=!0},Te=(e={})=>{H.value=0===e?Object.assign({},P):Object.assign({},e),ee.value=!0,setTimeout((()=>{document.querySelector(".autofocus input").click()}),200)},Be=()=>{a({url:"/LinkStore/createFolder",method:"post",data:{type:"edit",info:H.value}}).then((e=>{k.success(e.msg),1===e.code&&($(),ee.value=!1)}))},De=e=>{if(te.value=Object.assign({},e),te.value.custom=Object.assign(Object.assign({},We),e.custom),e.area){const l=e.area.split(",");l.length>0&&""!==l[0]?te.value.area=l:te.value.area=[]}else te.value.area=[];ae.value=!0},Re=e=>{U.confirm("是否删除选中的标签？","删除提示").then((l=>{a({url:"/LinkStore/del",method:"post",data:{ids:"object"==typeof e?e:[e]}}).then((e=>{k.success(e.msg),Qe()}))})).catch((()=>{k.warning("已取消操作")}))},qe=()=>{if(G.value.length>0){let e=[];G.value.forEach((l=>{e.push(l.id)})),Re(e)}},Ge=()=>{const l=e([]);let t=[];M.value.forEach((e=>{t.push(C(z,{label:e.name,value:e.id}))})),U({title:"请选择移动的分类","close-on-click-modal":!1,draggable:!0,"custom-style":{width:"100%"},message:()=>C(A,{modelValue:l.value,multiple:!0,placeholder:"请选择移动的分类可多选",class:"w-full","onUpdate:modelValue":e=>{l.value=e}},(()=>t))}).then((e=>{let t={link:G.value.map((e=>e.id)),area:l.value.join(",")};a({url:"/LinkStore/moveFolder",method:"post",data:t}).then((e=>{Qe(),k.success(e.msg)}))})).catch((e=>{k.warning("已取消操作")}))},Je=e=>{1===e.code&&(te.value.src=e.data.url)};let Ke=e(!1);const Ne=async()=>{Ke.value=!0;try{const e=await a({url:"/Api/getIcon",method:"post",data:{url:te.value.url}});1===e.code?(te.value.src=e.data.src,te.value.tips=e.data.name.substring(0,30)):k.error("获取网站数据失败,请手动设置")}catch(e){console.error("Error fetching data:",e),k.error("获取网站数据失败,请手动设置")}Ke.value=!1},Pe=()=>{te.value.status=1,He()},He=()=>{let e=Object.assign({},te.value);e.area&&(e.area=e.area.join(",")),a({url:"/LinkStore/add",method:"post",data:{form:e}}).then((e=>{k.success(e.msg),ae.value=!1,Qe()}))},Me=e({current_page:1,per_page:50,total:0,refresh(e){Me.value.current_page=e,Qe()},sizes(e){Me.value.per_page=e,Qe()}}),Ye=e([]),$e={order:"desc",prop:"id"},Qe=()=>{Ke.value=!0,a({url:"/LinkStore/ListManager",method:"post",data:{search:Q.value,page:Me.value.current_page,limit:Me.value.per_page,sort:$e}}).then((e=>{Ye.value=e.data.data,Object.assign(Me.value,e.data),F.value=e.auth})).finally((e=>{Ke.value=!1}))},Xe=({column:e,prop:l,order:a})=>{let t="asc";"descending"===a&&(t="desc"),$e.order=t,$e.prop=l,Qe()};return Qe(),(e,l)=>{const h=t("el-icon"),_=t("el-button"),C=t("el-input"),W=t("el-tooltip"),B=t("el-table-column"),P=t("el-tag"),We=t("el-table"),$e=t("el-pagination"),Ze=t("el-form-item"),el=t("el-upload"),ll=t("el-switch"),al=t("el-color-picker"),tl=t("el-input-number"),ol=t("el-form"),ul=t("el-dialog"),sl=t("el-link"),dl=o("loading");return u(),s(r,null,[d("div",ue,[g((u(),s("div",se,[d("div",de,[g(d("div",re,[(u(!0),s(r,null,i(M.value,(e=>(u(),n(v,null,{default:c((()=>[d("div",{onClick:l=>(e=>{D.value=e.id,Q.value.area=e.id,Qe()})(e),"data-id":null==e?void 0:e.id,class:p(["relative item px-3 py-1.5 text-sm rounded-sm cursor-pointer flex overflow-hidden justify-between items-center",{"bg-slate-200 text-blue-400":D.value==e.id}])},[d("div",ne,[d("span",null,m(e.name),1)]),e.id?(u(),s("div",ce,[y(h,{class:"hover:text-blue-600",onClick:w((l=>Te(e)),["stop"])},{default:c((()=>[y(f(j))])),_:2},1032,["onClick"]),y(h,{class:"cursor-move"},{default:c((()=>[y(f(S))])),_:1})])):x("",!0)],10,ie)])),_:2},1024)))),256))],512),[[V,M.value.length]]),g(d("div",pe,[y(_,{class:"w-11/12",type:"primary",onClick:l[0]||(l[0]=e=>Te(0))},{default:c((()=>[b("创建标签分类")])),_:1})],512),[[V,!R.value]])])])),[[dl,R.value]]),d("div",me,[d("div",ve,[y(C,{modelValue:Q.value.name,"onUpdate:modelValue":l[1]||(l[1]=e=>Q.value.name=e),style:{width:"200px"},placeholder:"名称搜索",clearable:""},null,8,["modelValue"]),y(_,{onClick:Qe,type:"primary"},{default:c((()=>[b("搜索")])),_:1}),y(_,{type:"danger",onClick:Fe},{default:c((()=>[b("添加新标签")])),_:1}),y(_,{style:{background:"lightseagreen",color:"#F3F3F3"},round:"",onClick:X},{default:c((()=>[b(" 公共标签库 ")])),_:1}),d("div",ge,[F.value?(u(),n(W,{key:0,content:"当你的WebApp有变更时，<br/>可以通过此按钮强制刷新所有用户的WebApp缓存，<br/>以保证用户看到最新的WebApp内容","raw-content":""},{default:c((()=>[y(_,{type:"success",round:"",onClick:N},{default:c((()=>[b("刷新用户WebApp缓存")])),_:1})])),_:1})):x("",!0),y(_,{onClick:Qe,type:"warning",round:""},{default:c((()=>[y(h,null,{default:c((()=>[y(f(L))])),_:1}),fe])),_:1}),G.value.length>0?(u(),n(_,{key:1,type:"danger",onClick:qe,round:""},{default:c((()=>[b("批量删除")])),_:1})):x("",!0),G.value.length>0?(u(),n(_,{key:2,type:"primary",onClick:Ge,round:""},{default:c((()=>[b("批量分类")])),_:1})):x("",!0)])]),d("div",he,[g((u(),n(We,{onSelectionChange:J,ref_key:"multipleTableRef",ref:q,onSortChange:Xe,height:"calc(100vh - 190px)",stripe:"",data:Ye.value},{default:c((()=>[y(B,{type:"selection",width:"30",align:"center"}),y(B,{fixed:"left",sortable:"custom",prop:"id",label:"ID",align:"center",width:"100"}),y(B,{prop:"name",label:"网站名称",sortable:"custom",align:"center",width:"200"}),y(B,{prop:"src",label:"LOGO",align:"center",width:"80"},{default:c((e=>[/^txt:/.test(e.row.src)?(u(),n(T,{key:0,text:e.row.src,bgColor:e.row.bgColor,class:"logoiconRadius"},null,8,["text","bgColor"])):(u(),s("img",{key:1,style:O([{backgroundColor:e.row.bgColor},{"max-width":"100%","max-height":"100%"}]),src:e.row.src,class:"logoiconRadius",alt:"Logo"},null,12,be))])),_:1}),y(B,{prop:"url","show-overflow-tooltip":"",label:"域名链接",align:"center",width:"260"}),y(B,{prop:"area",width:"200px","show-overflow-tooltip":"",label:"分类",align:"center"},{default:c((e=>[b(m(Z(e.row.area)),1)])),_:1}),y(B,{prop:"userInfo",width:"200px","show-overflow-tooltip":"",label:"上传用户",align:"center"},{default:c((e=>[e.row.userInfo?(u(),n(P,{key:0},{default:c((()=>[b(m(e.row.userInfo.nickname),1)])),_:2},1024)):x("",!0)])),_:1}),y(B,{prop:"app",label:"是否WebApp",align:"center",width:"140"},{default:c((e=>[1===e.row.app?(u(),n(P,{key:0},{default:c((()=>[b("WebApp")])),_:1})):(u(),n(P,{key:1,type:"info"},{default:c((()=>[b("标签")])),_:1}))])),_:1}),y(B,{prop:"domain",label:"Domain",align:"center",width:"260"}),y(B,{prop:"tips",label:"简介",align:"center",width:"300"}),y(B,{sortable:"custom",prop:"install_num",label:"安装量(次)",align:"center",width:"150"}),y(B,{prop:"create_time",sortable:"custom",label:"创建时间",align:"center",width:"200"}),y(B,{fixed:"right",label:"操作",align:"center",width:"150"},{default:c((e=>[0===e.row.status?(u(),n(_,{key:0,type:"success",size:"small",onClick:l=>De(e.row)},{default:c((()=>[b("审核 ")])),_:2},1032,["onClick"])):(u(),n(_,{key:1,type:"primary",size:"small",onClick:l=>De(e.row)},{default:c((()=>[b("操作")])),_:2},1032,["onClick"])),y(_,{type:"danger",size:"small",onClick:l=>Re(e.row.id)},{default:c((()=>[b("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])),[[dl,f(Ke)]]),y($e,{"page-size":Me.value.per_page,onSizeChange:Me.value.sizes,onCurrentChange:Me.value.refresh,"page-sizes":[15,20,30,40,50,100],class:"mt-6",layout:"sizes,total,prev,pager,jumper",total:Me.value.total},null,8,["page-size","onSizeChange","onCurrentChange","total"])]),y(ul,{modelValue:ae.value,"onUpdate:modelValue":l[22]||(l[22]=e=>ae.value=e),title:"编辑标签",width:1e3,"close-on-click-modal":!1,top:"5vh"},{default:c((()=>[y(ol,{modelValue:te.value,"onUpdate:modelValue":l[21]||(l[21]=e=>te.value=e),"label-position":"top"},{default:c((()=>[y(Ze,{label:"名称"},{default:c((()=>[y(C,{modelValue:te.value.name,"onUpdate:modelValue":l[2]||(l[2]=e=>te.value.name=e),"show-word-limit":"",maxlength:"50",placeholder:"请输入网站title或名称"},null,8,["modelValue"])])),_:1}),y(Ze,{label:"网址"},{default:c((()=>[y(C,{modelValue:te.value.url,"onUpdate:modelValue":l[3]||(l[3]=e=>te.value.url=e),"show-word-limit":"",maxlength:"251",placeholder:"请输入网址,请携带http协议"},null,8,["modelValue"])])),_:1}),y(Ze,{label:"logo"},{default:c((()=>[d("div",xe,[te.value.src&&/^txt:/.test(te.value.src)?(u(),n(T,{key:0,mini:"",style:{width:"30px",height:"30px","margin-right":"10px","border-radius":"4px","flex-shrink":"0"},text:te.value.src,bgColor:te.value.bgColor},null,8,["text","bgColor"])):te.value.src?(u(),s("img",{key:1,src:te.value.src,style:{width:"30px",height:"30px","margin-right":"10px","border-radius":"3px"}},null,8,ye)):x("",!0),y(C,{modelValue:te.value.src,"onUpdate:modelValue":l[4]||(l[4]=e=>te.value.src=e),placeholder:"标签图标地址(120x120)px尺寸最佳"},{append:c((()=>[y(el,{class:"upload-demo",headers:{"Up-Type":"icon"},"show-file-list":!1,"on-success":Je,action:f(I)+f(le).state.site.upload},{default:c((()=>[y(_,{type:"primary"},{default:c((()=>[b("上传")])),_:1})])),_:1},8,["action"])])),_:1},8,["modelValue"]),y(_,{type:"primary",style:{width:"100px","margin-left":"15px"},onClick:Ne},{default:c((()=>[b("抓取图标")])),_:1})])])),_:1}),y(Ze,{label:"域名"},{default:c((()=>[y(C,{modelValue:te.value.domain,"onUpdate:modelValue":l[5]||(l[5]=e=>te.value.domain=e),"show-word-limit":"",maxlength:"251",placeholder:"请输入域名多个可以用,隔开。域名不要携带http协议"},null,8,["modelValue"]),we])),_:1}),y(Ze,{label:"分类"},{default:c((()=>[y(f(A),{modelValue:te.value.area,"onUpdate:modelValue":l[6]||(l[6]=e=>te.value.area=e),multiple:!0,placeholder:"分类选择可多选",class:"w-full"},{default:c((()=>[(u(!0),s(r,null,i(M.value,(e=>(u(),n(v,{key:e.id},{default:c((()=>[e.id>0?(u(),n(f(z),{key:0,label:e.name,value:`${e.id}`},null,8,["label","value"])):x("",!0)])),_:2},1024)))),128))])),_:1},8,["modelValue"])])),_:1}),y(Ze,{label:"简介"},{default:c((()=>[y(C,{modelValue:te.value.tips,"onUpdate:modelValue":l[7]||(l[7]=e=>te.value.tips=e),placeholder:"请简单介绍一下建议30字符以内","show-word-limit":"",maxlength:"200"},null,8,["modelValue"])])),_:1}),y(Ze,{label:"是否为WebApp"},{default:c((()=>[y(ll,{"active-value":1,"inactive-value":0,modelValue:te.value.app,"onUpdate:modelValue":l[8]||(l[8]=e=>te.value.app=e)},null,8,["modelValue"])])),_:1}),1===te.value.app?(u(),n(Ze,{key:0,label:"WebApp自定义配置（可选配置项）"},{default:c((()=>[d("div",ke,[F.value?x("",!0):(u(),s("div",_e,Ve)),d("div",Ce,[y(Ze,{class:"w-full",label:"窗口宽度"},{default:c((()=>[y(C,{disabled:!F.value,modelValue:te.value.custom.width,"onUpdate:modelValue":l[9]||(l[9]=e=>te.value.custom.width=e),placeholder:"窗口打开时默认宽度尺寸"},{append:c((()=>[b("px")])),_:1},8,["disabled","modelValue"])])),_:1}),y(Ze,{class:"w-full",label:"窗口高度"},{default:c((()=>[y(C,{disabled:!F.value,modelValue:te.value.custom.height,"onUpdate:modelValue":l[10]||(l[10]=e=>te.value.custom.height=e),placeholder:"窗口打开时默认高度尺寸"},{append:c((()=>[b("px")])),_:1},8,["disabled","modelValue"])])),_:1}),y(Ze,{class:"w-full",label:"控制栏颜色"},{default:c((()=>[d("div",ze,[y(C,{disabled:!F.value,modelValue:te.value.custom.controllerColor,"onUpdate:modelValue":l[11]||(l[11]=e=>te.value.custom.controllerColor=e),placeholder:"请输入hex格式颜色值"},null,8,["disabled","modelValue"]),y(al,{"color-format":"hex",modelValue:te.value.custom.controllerColor,"onUpdate:modelValue":l[12]||(l[12]=e=>te.value.custom.controllerColor=e)},null,8,["modelValue"])])])),_:1}),y(Ze,{class:"w-full",label:"窗口模式"},{default:c((()=>[y(f(A),{disabled:!F.value,modelValue:te.value.custom.immersion,"onUpdate:modelValue":l[13]||(l[13]=e=>te.value.custom.immersion=e)},{default:c((()=>[y(f(z),{label:"标准窗口",value:0}),y(f(z),{label:"沉浸式窗口",value:1})])),_:1},8,["disabled","modelValue"])])),_:1})]),d("div",Ue,[y(Ze,{class:"w-full",label:"最小化支持"},{default:c((()=>[y(f(A),{disabled:!F.value,modelValue:te.value.custom.minimization,"onUpdate:modelValue":l[14]||(l[14]=e=>te.value.custom.minimization=e)},{default:c((()=>[y(f(z),{label:"不支持",value:0}),y(f(z),{label:"支持",value:1})])),_:1},8,["disabled","modelValue"])])),_:1}),y(Ze,{class:"w-full",label:"最大化支持"},{default:c((()=>[y(f(A),{disabled:!F.value,modelValue:te.value.custom.maximize,"onUpdate:modelValue":l[15]||(l[15]=e=>te.value.custom.maximize=e)},{default:c((()=>[y(f(z),{label:"不支持",value:0}),y(f(z),{label:"支持",value:1})])),_:1},8,["disabled","modelValue"])])),_:1}),y(Ze,{class:"w-full",label:"尺寸调整"},{default:c((()=>[y(f(A),{disabled:!F.value,modelValue:te.value.custom.resize,"onUpdate:modelValue":l[16]||(l[16]=e=>te.value.custom.resize=e)},{default:c((()=>[y(f(z),{label:"不支持",value:0}),y(f(z),{label:"支持",value:1})])),_:1},8,["disabled","modelValue"])])),_:1}),y(Ze,{class:"w-full",label:"用户编辑权限"},{default:c((()=>[y(f(A),{disabled:!F.value,modelValue:te.value.custom.userEdit,"onUpdate:modelValue":l[17]||(l[17]=e=>te.value.custom.userEdit=e)},{default:c((()=>[y(f(z),{label:"不允许",value:0}),y(f(z),{label:"允许编辑",value:1})])),_:1},8,["disabled","modelValue"])])),_:1})])])])),_:1})):x("",!0),y(Ze,{label:"背景颜色"},{default:c((()=>[d("ul",je,[(u(),s(r,null,i(Y,(e=>d("li",{onClick:l=>{return a=e,void(te.value.bgColor=a);var a}},["rgba(0,0,0,0)"===e?(u(),s("div",Le,[e===te.value.bgColor?(u(),s("b",Oe,"√")):x("",!0)])):(u(),s("div",{key:1,style:O({backgroundColor:e})},[e===te.value.bgColor?(u(),s("b",Ie,"√")):x("",!0)],4))],8,Se))),64))]),y(al,{"show-alpha":"",modelValue:te.value.bgColor,"onUpdate:modelValue":l[18]||(l[18]=e=>te.value.bgColor=e)},null,8,["modelValue"])])),_:1}),y(Ze,{label:"标签添加量（热度）"},{default:c((()=>[y(tl,{modelValue:te.value.install_num,"onUpdate:modelValue":l[19]||(l[19]=e=>te.value.install_num=e),class:"w-full",placeholder:"数值越高排名越高"},null,8,["modelValue"])])),_:1}),y(Ze,{label:"排行"},{default:c((()=>[y(tl,{modelValue:te.value.hot,"onUpdate:modelValue":l[20]||(l[20]=e=>te.value.hot=e),class:"w-full",placeholder:"数值越高排名越高"},null,8,["modelValue"])])),_:1})])),_:1},8,["modelValue"]),0===te.value.status?(u(),n(_,{key:0,class:"w-full",type:"success",onClick:Pe},{default:c((()=>[b("审核通过并保存")])),_:1})):(u(),n(_,{key:1,type:"primary",class:"w-full",onClick:He},{default:c((()=>[b("保存")])),_:1}))])),_:1},8,["modelValue"])])]),y(ul,{modelValue:ee.value,"onUpdate:modelValue":l[26]||(l[26]=e=>ee.value=e),width:"500px",title:"标签分类编辑"},{default:c((()=>[Ae,y(C,{onKeypress:l[23]||(l[23]=E(w((()=>{}),["stop"]),["enter"])),modelValue:H.value.name,"onUpdate:modelValue":l[24]||(l[24]=e=>H.value.name=e),class:"autofocus mb-4","show-word-limit":"",maxlength:"50",placeholder:"请输入分类名称"},null,8,["modelValue"]),H.value.id?(u(),n(sl,{key:0,type:"danger",onClick:l[25]||(l[25]=e=>{return l={id:H.value.id},void U.confirm("是否删除当前标签分类","危险警告").then((e=>{a({url:"/LinkStore/createFolder",method:"post",data:{type:"del",id:l.id}}).then((e=>{k.success(e.msg),1===e.code&&($(),ee.value=!1)}))}));var l})},{default:c((()=>[b("删除该分类 ")])),_:1})):x("",!0),d("div",Ee,[y(_,{class:"m-auto w-2/5",type:"primary",onClick:Be},{default:c((()=>[b("保存")])),_:1})])])),_:1},8,["modelValue"]),K.value?(u(),n(oe,{key:0,onClick:l[27]||(l[27]=()=>{K.value=!1,Qe()})})):x("",!0)],64)}}};export{We as default};

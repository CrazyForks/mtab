import{r as a,u as l,S as e,b as t,K as s,c as o,d as i,e as n,k as r,h as u,j as c,ai as p,aa as d,F as g,f as m,n as v,x as b,i as k,g as x,p as y,q as f,aI as h,m as C,G as z,T as _,I as j}from"./index.1717935479334.js";import{r as S}from"./appSide.1717935479334.js";import{T as I}from"./textIcon.1717935479334.js";import"./dialog.1717935479334.js";const L=[{sort:5,name:"记事本",size:"1x1",src:"/static/note.png",url:"/noteApp",type:"icon",app:1,pid:null,bgColor:"rgba(252,141,0,1)",tips:"快捷记录您的日常笔记和灵感多端同步！"},{app:0,pid:null,src:"/static/editAll.png",url:"tab://editAll",name:"批量编辑",size:"1x1",sort:12,bgColor:"rgba(255,255,255,1)",tips:"快捷批量编辑您的桌面标签",type:"icon"},{sort:13,name:"添加标签",size:"1x1",src:"/static/addIco.png",url:"tab://addicon",type:"icon",bgColor:"rgba(255,255,255,1)",tips:"添加您的标签或卡片组件",app:0,pid:null},{app:0,pid:null,src:"/static/backgroundIco.png",url:"tab://background",name:"壁纸",bgColor:"rgba(255,255,255,1)",tips:"设置自己的个性首页背景",size:"1x1",sort:8,type:"icon"},{app:0,pid:null,src:"/static/bookmark.svg",url:"tab://bookmark",name:"书签管理",bgColor:"rgba(250, 99, 110, 1)",tips:"管理浏览器的书签列表",size:"1x1",sort:8,type:"icon",auth:!0},{app:0,pid:null,src:"/static/setting.png",url:"tab://setting",name:"设置",bgColor:"rgba(149,168,184,1)",tips:"系统设置面板以及个人中心",size:"1x1",sort:8,type:"icon"}];const T={class:"onlinemall"},w={class:"px-4 xs:w-2/3 m-auto"},A=["onClick"],G={class:"linkscroll"},K={key:1,class:"linklist grid sm:grid-cols-3 grid-cols-2 mt-2"},M={key:0},V={class:"links"},F=["src"],q={class:"linkTips"},B={class:"text-sm font-bold line-clamp-1"},P={class:"text-xs line-clamp-2"},U={class:"mt-2 flex items-center justify-end"},W={class:"flex justify-center mb-4 mt-4"},X={__name:"onlineMall",setup(X){const Y=a(!0),D=a([]),E=l(),H=a(-1),J=a(""),N=a(1),O=a(0),Q=a([]),R=({auth:a=!1})=>!a||!!E.state.site.auth;e({url:"/LinkStore/getFolder"}).then((a=>{a.data.unshift({id:0,name:"全部"}),a.data.unshift({id:-1,name:"系统内置组件"}),D.value=a.data}));const Z=a(""),$=a=>{const{scrollLeft:l=0}=Z.value,{deltaY:e=0,deltaX:t=0}=a;let s=Math.abs(t)>Math.abs(e)?t:e;Z.value.scrollTo({top:0,left:s+l})},aa=a=>{if(Q.value=[],-1===a)return Q.value=L,H.value=a,O.value=L.length,void(Y.value=!1);Y.value=!0,a!==H.value&&(H.value=a,N.value=1,la())},la=()=>{const a=J.value.replace(/(http:|https:|)+(\/\/)/,"");e({url:"/LinkStore/list",method:"post",data:{area:H.value,name:a,page:N.value}}).then((a=>{Q.value=a.data.data,O.value=a.data.total,Y.value=!1}))},ea=a=>{N.value=a,la()};return aa(0),(a,l)=>{const L=t("el-icon"),X=t("el-input"),N=t("el-empty"),ta=t("el-button"),sa=t("el-pagination"),oa=s("loading");return o(),i("div",T,[n("div",w,[r(X,{modelValue:J.value,"onUpdate:modelValue":l[0]||(l[0]=a=>J.value=a),class:"iconSearch",placeholder:"快捷搜索标签",onKeydown:d(la,["enter"])},{suffix:u((()=>[r(L,{color:"#5d5d5d",size:"20px",class:"cursor-pointer",onClick:la},{default:u((()=>[r(c(p))])),_:1})])),_:1},8,["modelValue","onKeydown"])]),n("div",{class:"linkarea select-none space-x-2 mt-3",ref_key:"areaBox",ref:Z,onWheelPassive:$},[(o(!0),i(g,null,m(D.value,(a=>(o(),i("div",{class:v({"background-orange":a.id===H.value,"bg-red-500":-1===a.id}),onClick:l=>aa(a.id)},b(a.name),11,A)))),256))],544),k((o(),i("div",G,[0!==Q.value.length||Y.value?(o(),i("div",K,[(o(!0),i(g,null,m(Q.value,(a=>(o(),x(_,{key:a.id},{default:u((()=>[R(a)?(o(),i("div",M,[n("div",V,[/^txt:/.test(a.src)?(o(),x(I,{key:0,bgColor:a.bgColor,text:a.src,class:"linklogo",style:{margin:"0 !important"}},null,8,["bgColor","text"])):(o(),i("img",{key:1,style:y({backgroundColor:a.bgColor}),src:c(f)(a.src),class:"linklogo",alt:""},null,12,F)),n("div",q,[n("span",B,b(a.name),1),n("div",P,b(a.tips),1)])]),n("div",U,[-1!==H.value&&(null==a?void 0:a.app)<=0?(o(),x(L,{key:0,size:"20px",class:"hover:text-blue-400 hover",onClick:l=>c(S)(a.url,!0)},{default:u((()=>[r(c(h))])),_:2},1032,["onClick"])):C("",!0),r(ta,{style:{"background-color":"rgba(238,238,238,0.46)"},size:"small",class:"ml-2",round:"",onClick:l=>(a=>{let l={sort:99999,id:j(),name:a.name,size:"1x1",src:a.src,url:a.url,type:a.type,app:a.app,tips:a.tips,origin_id:a.id,bgColor:a.bgColor,pageGroup:E.state.pageGroup,custom:a.custom};E.state.link.push(l),E.commit("updateLink"),e({url:"/LinkStore/install_num",method:"post",data:{id:a.id}}).finally((a=>{}))})(a)},{default:u((()=>[z("添加 ")])),_:2},1032,["onClick"])])])):C("",!0)])),_:2},1024)))),128))])):(o(),x(N,{key:0,description:"该分类没有更多图标啦！"})),n("div",W,[O.value>15&&!Y.value?(o(),x(sa,{key:0,layout:"prev, pager, next","page-size":15,total:O.value,onCurrentChange:ea},null,8,["total"])):C("",!0)])])),[[oa,Y.value]])])}}};export{X as default};

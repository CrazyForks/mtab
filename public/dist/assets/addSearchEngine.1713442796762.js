import{r as e,u as a,Z as s,b as l,c as t,d as n,e as i,F as c,f as r,g as d,h as u,j as m,q as o,x as g,k as p,aw as v,T as x,i as h,v as f,D as E,E as y,G as b,H as k}from"./index.1713442796762.js";import{_ as w}from"./net.1713442796762.js";const _={class:"searchEngineUserManager"},j=i("div",{class:"searchEngineTitle flex items-center"},[i("img",{src:w,style:{width:"20px",height:"20px"}}),i("span",{class:"ml-1"},"搜索引擎管理")],-1),F=i("div",{class:"mySearchEngine ml-4 text-gray-800"}," 我的搜索引擎 ",-1),C={class:"grid gap-4 mxs:grid-cols-4 grid-cols-6 items-center justify-center mt-4 myEngine"},S={class:"flex flex-col items-center relative"},U=["title","src","alt"],I=["title"],z=["onClick"],O=i("div",{class:"mySearchEngine mt-4 ml-4 text-gray-800"}," 未添加的搜索引擎 ",-1),T={class:"grid gap-4 mxs:grid-cols-4 grid-cols-6 items-center justify-center mt-4"},V={class:"flex relative flex-col items-center"},q=["title","src","alt"],D=["title"],G=["onClick"],H=i("div",{class:"mySearchEngine mt-4 ml-4 text-gray-800"}," 自定义搜索引擎 ",-1),L={class:"flex gap-4 px-4 pt-3 items-center flex-wrap"},M={__name:"addSearchEngine",setup(w){const M=e({name:"",icon:"/static/searchEngine/net.svg",url:""}),N=a(),R=e(Object.assign([],N.state.searchEngine)),Z=e([]);s({url:"/searchEngine/index"}).then((e=>{1===e.code&&(Z.value=e.data)}));const A=e=>-1===R.value.findIndex((a=>a.name===e.name)),B=e=>{if(R.value.length>=20)return void k.warning("最大可以添加20个搜索引擎");R.value.findIndex((a=>a.name===e.name))>=0?k.warning("您已添加过该搜索引擎"):(R.value.push(e),K())},J=()=>{M.value.name.trim()&&M.value.url.trim()&&(B(Object.assign({},M.value)),M.value.name="",M.value.url="")},K=()=>{N.state.searchEngine=R.value,N.commit("updateSearchEngine")};return(e,a)=>{const s=l("el-icon"),w=l("el-button");return t(),n("div",_,[j,F,i("div",C,[(t(!0),n(c,null,r(R.value,((e,a)=>(t(),d(x,null,{default:u((()=>[i("div",S,[i("img",{title:e.tips,style:{width:"50px",height:"50px","background-color":"#F3F3F3","border-radius":"6px",padding:"8px"},src:m(o)(e.icon),alt:e.name},null,8,U),i("span",{class:"mt-2 text-xs",title:e.tips},g(e.name),9,I),i("div",{class:"search-del-ico",onClick:a=>(e=>{const a=R.value.findIndex((a=>a.name===e.name));R.value.splice(a,1),0===R.value.length&&k.warning("至少需要保留一个搜索引擎"),K()})(e)},[p(s,{color:"#fff",size:"16px"},{default:u((()=>[p(m(v))])),_:1})],8,z)])])),_:2},1024)))),256))]),O,i("div",T,[(t(!0),n(c,null,r(Z.value,((e,a)=>(t(),d(x,null,{default:u((()=>[h(i("div",V,[i("img",{title:e.tips,style:{width:"50px",height:"50px","background-color":"#F3F3F3","border-radius":"6px",padding:"8px"},src:m(o)(e.icon),alt:e.name},null,8,q),i("span",{class:"mt-2 text-xs",title:e.tips},g(e.name),9,D),i("div",{class:"search-add-ico",onClick:a=>B(e)},[p(s,{color:"#fff",size:"16px"},{default:u((()=>[p(m(E))])),_:1})],8,G)],512),[[f,A(e)]])])),_:2},1024)))),256))]),H,i("div",L,[h(i("input",{class:"customEngineName",placeholder:"请输入引擎名称","onUpdate:modelValue":a[0]||(a[0]=e=>M.value.name=e)},null,512),[[y,M.value.name]]),h(i("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>M.value.url=e),class:"customEngineUrl",placeholder:"自定义引擎URL，搜索词参数部分用{1}代替"},null,512),[[y,M.value.url]]),p(w,{onClick:J,class:"addCustom"},{default:u((()=>[b("添加")])),_:1})])])}}};export{M as default};

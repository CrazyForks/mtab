import{r as e,u as t,w as a,o as s,a as n,b as o,c as l,d as i,e as r,F as c,f as u,g as d,h as p,i as v,v as m,n as g,j as f,k as h,l as x,m as y,p as k,T as w,_ as b,t as C,q as _,s as L,x as G,y as S,A as E,z as M,B as T,C as j,D as I,E as B,G as P,H as D,I as O,J as A,K as R,L as z,M as q,N as V,O as H,P as N,Q as U,R as X,S as F,U as Y,V as $}from"./index.1711290598880.js";import{r as K,o as W,a as J,b as Z}from"./href.1711290598880.js";import{S as Q}from"./sortable.esm.1711290598880.js";import{d as ee,M as te}from"./dialog.1711290598880.js";import{$ as ae}from"./jquery.1711290598880.js";import{_ as se}from"./net.1711290598880.js";var ne="/dist/assets/close.1711290598880.svg";const oe={class:"footer-box"},le=["onDragstart","data-id"],ie=["onClick"],re=["onClick"],ce={key:1,src:"/dist/assets/wapp.1711290598880.svg",class:"wappfooter",alt:""},ue=["src"],de={class:"flex"},pe=[r("div",{class:"split-line mr-3 ml-1"},null,-1)],ve={class:"flex space-x-3"},me=["onDragstart"],ge=["onClick"],fe=["src","alt"],he=r("div",{class:"split-line ml-2"},null,-1),xe={class:"flex ml-4"},ye=["onDrop"],ke=[r("div",{class:"trash-can"},[r("img",{src:"/dist/assets/lajitong.1711290598880.png",alt:"垃圾桶"})],-1)],we={__name:"footer",props:{reload:{type:Function}},setup(b){const C=b,_=e(!1),L=e(""),G=e(ee),S=t(),E=e(S.state.tabbar),M=(e,t)=>{if("icon"===e.type)return parseInt(window.innerWidth/70),!0},T=e=>{const t=S.state.link.find((t=>t.id.toString()===e.id.toString()));return t?t.src:e.src},j=e=>{const{itemId:t=""}=e,a=S.state.link.find((e=>e.id.toString()===t.toString()));let{bgColor:s=null}=a||e;return S.state.config.theme.iconBg&&null===s?"#fff":s};window.moveMark=null;const I=e=>{let t=[];e.forEach((e=>{t.push({title:e.title,ico:e.ico,uid:e.uid,custom:e.custom})})),G.value=t},B=e=>{const t=window.moveMark;"tabbar"===t.form&&P(t),"task"===t.form&&ee.forEach((e=>{e.uid===t.uid&&e.close()})),"link"===t.form&&S.commit("delLink",t.id),window.moveMark=null};a((()=>S.state.tabbar),(e=>{E.value=e}));const P=e=>{const t=E.value.findIndex((t=>t.id==e.id));E.value.splice(t,1),S.commit("updateTabbar",E.value)};return te.on("refresh",I),s((()=>{te.off("refresh",I)})),n((()=>{const e=L.value,t={animation:200,delay:1e3,delayOnTouchOnly:!0,draggable:".item",onEnd:function(e){let t=a.toArray(),s=[];t.forEach((e=>{s.push(E.value.find((t=>t.id==e)))})),S.commit("updateTabbar",s),C.reload()}};let a=Q.create(e,t)})),(e,t)=>{const a=o("el-tooltip");return l(),i("div",{class:"footer-component fixed inset-x-0 bottom-0",onContextmenu:t[3]||(t[3]=x((()=>{}),["prevent"]))},[r("div",oe,[r("div",{class:"list flex space-x-3",id:"footerItxst",ref_key:"footerItxst",ref:L},[(l(!0),i(c,null,u(E.value,((e,t)=>(l(),d(w,{key:e.id},{default:p((()=>[v(r("div",{draggable:"true",onDragstart:t=>{return a=e,void(window.moveMark=Object.assign(a,{form:"tabbar"}));var a},class:g(["item",f(S).state.editStatus?"edits":""]),"data-id":e.id},[h(a,{effect:"customized",content:null==e?void 0:e.name,placement:"top",disabled:!f(S).state.config.theme.LinkTitle},{default:p((()=>[r("div",{class:"itemBox hover",onClick:t=>f(K)(e.id)},[f(S).state.editStatus?(l(),i("img",{key:0,onClick:x((t=>P(e)),["stop"]),class:"del-footer",src:ne},null,8,re)):y("",!0),1===(null==e?void 0:e.app)?(l(),i("img",ce)):y("",!0),r("img",{style:k({background:j(e)}),class:"icon",src:T(e),alt:""},null,12,ue)],8,ie)])),_:2},1032,["content","disabled"])],42,le),[[m,M(e)]])])),_:2},1024)))),128))],512),r("div",de,[v(r("div",null,pe,512),[[m,G.value.length]]),v(r("div",ve,[(l(!0),i(c,null,u(G.value,(e=>(l(),i("div",{class:"taskBox",draggable:"true",onDragstart:t=>{return a=e,void(window.moveMark=Object.assign(a,{form:"task"}));var a}},[r("div",{style:k({background:j(e.custom)}),onClick:t=>(e=>{ee.forEach((t=>{t.uid===e.uid&&(t.isMinimize&&t.setMineSize(),t.resetIndex())}))})(e),class:"rounded-xl cursor-pointer taskIco"},[r("img",{class:"w-full h-full rounded-xl",src:e.ico,alt:e.title},null,8,fe)],12,ge)],40,me)))),256))],512),[[m,G.value.length]]),he,r("div",xe,[r("div",{class:g(["taskBox",{trashBin:_.value}]),onDragenter:t[0]||(t[0]=x((e=>_.value=!0),["prevent"])),onDragleave:t[1]||(t[1]=x((e=>_.value=!1),["prevent"])),onDrop:x(B,["prevent"]),onDragover:t[2]||(t[2]=x((()=>{}),["prevent"]))},ke,42,ye)])])])],32)}}};const be={class:"time"},Ce={class:"time-month"},_e={class:"time-week"};var Le=b({__name:"time",emits:["change","update"],setup(a,{emit:s}){const n=t();function o(){return _().format("HH:mm:ss")}const c=()=>{s("change")};function u(){return _().format("MM月DD日")}function d(){switch(_().day()){case 1:return"星期一";case 2:return"星期二";case 3:return"星期三";case 4:return"星期四";case 5:return"星期五";case 6:return"星期六";case 0:return"星期日"}}const p=e(o()),v=e(u()),m=e(d());return setInterval((()=>{p.value=o(),v.value=u(),m.value=d()}),500),(e,t)=>(l(),i("div",be,[r("div",null,[r("div",{onContextmenu:t[0]||(t[0]=x((()=>{}),["prevent","stop"])),class:"time-hms text-7xl mxs:text-6xl",onClick:c,style:k({color:f(n).state.config.theme.timeColor})},C(p.value),37),r("div",{onContextmenu:t[1]||(t[1]=x((()=>{}),["prevent","stop"])),class:"time-other space-x-2",style:k({color:f(n).state.config.theme.timeColor})},[r("span",Ce,C(v.value),1),r("span",_e,C(m.value),1)],36)])]))}},[["__scopeId","data-v-6dd57058"]]);const Ge=["src"],Se=r("span",{class:"text-xs text-gray-200 mt-0.5"},"首页",-1),Ee=["data-id"],Me=["onClick","onContextmenu"],Te=["src","alt","title"],je={class:"text-gray-200 mt-0.5",style:{"font-size":"12px"}},Ie={class:"miniFloatController minxs:hidden space-y-3"},Be=r("div",{class:"text-sm text-gray-50"},"分类图标",-1),Pe={class:"mt-1.5 grid grid-cols-5 gap-2"},De=["title","onClick"],Oe=["src"],Ae={class:"mt-2"},Re=r("div",{class:"text-sm text-gray-50"},"分类名称",-1),ze={class:"mt-3 flex justify-end"},qe={__name:"AppPageGroup",props:{reload:{type:Function}},setup(t){const m=t,b=e(!0),_=L({x:0,y:0,status:!1}),B=e(0),P=e(""),D=e(!1),O=e({src:"",name:""}),A=[{src:"/static/pageGroup/home.svg",name:"主页"},{src:"/static/pageGroup/game.svg",name:"游戏"},{src:"/static/pageGroup/music.svg",name:"音乐"},{src:"/static/pageGroup/work.svg",name:"办公"},{src:"/static/pageGroup/chat.svg",name:"社交"},{src:"/static/pageGroup/shop.svg",name:"购物"},{src:"/static/pageGroup/travel.svg",name:"出行"},{src:"/static/pageGroup/all.svg",name:"综合"},{src:"/static/pageGroup/read.svg",name:"阅读"},{src:"/static/pageGroup/astronomy.svg",name:"天文"},{src:"/static/pageGroup/safe.svg",name:"安全"},{src:"/static/pageGroup/crown.svg",name:"王冠"},{src:"/static/pageGroup/shanzi.svg",name:"扇子"},{src:"/static/pageGroup/photo.svg",name:"图片"},{src:"/static/pageGroup/star.svg",name:"星星"},{src:"/static/pageGroup/liwu.svg",name:"礼物"},{src:"/static/pageGroup/code.svg",name:"代码"},{src:"/static/pageGroup/movie.svg",name:"电影"},{src:"/static/pageGroup/hiuzhang.svg",name:"徽章"},{src:"/static/pageGroup/study.svg",name:"学习"}],R=G((()=>{let e=[];return S.state.link.forEach((t=>{"pageGroup"===t.type&&e.push(t)})),Object.assign([],E(e))})),z=e(null),q=(e=null,t)=>{if(e){let t=S.state.link.find((t=>t.id===e));t&&(O.value=t)}else O.value={src:"/static/pageGroup/home.svg",name:""};let a=document.querySelector(".floatController").offsetTop;B.value=parseInt(a.toString()),D.value=!0,_.status=!1},V=e=>{S.state.pageGroup=e},H=()=>{D.value=!1},N=()=>{z.value&&S.commit("delLink",z.value),_.status=!1},U=()=>{if(O.value.id){let e=S.state.link.find((e=>e.id===O.value.id));Object.assign(e,O.value)}else{let e={id:I(),src:O.value.src,name:O.value.name,type:"pageGroup",sort:99};S.state.link.push(e)}S.commit("updateLink"),H()};function X(){_.status=!1,H()}n((()=>{(()=>{const e=P.value,t={animation:200,delay:1e3,delayOnTouchOnly:!0,draggable:".item",onEnd:function(e){a.toArray().forEach(((e,t)=>{let a=S.state.link.find((t=>t.id===e));a&&(a.sort=t)})),S.commit("updateLink"),m.reload()}};let a=Q.create(e,t)})()}));let F=null;const Y=e=>{const{clientX:t,clientY:a}=e;if(S.state.config.theme.pageGroupStatus&&P.value)if(t<=350)null!==F&&(clearTimeout(F),F=null),b.value=!0;else{if(null!=F)return;F=setTimeout((()=>{b.value=!1}),3e3)}};return a((()=>S.state.config.theme.pageGroupStatus),(e=>{e?b.value=!1:(clearTimeout(F),F=null,b.value=!0)})),window.addEventListener("mousedown",X),window.addEventListener("mousemove",Y),s((()=>{window.removeEventListener("mousemove",Y),window.removeEventListener("mousedown",X)})),(e,t)=>{const a=o("el-icon"),s=o("el-button");return l(),i("div",{class:"appPageGroup",onContextmenu:t[11]||(t[11]=x((()=>{}),["prevent"]))},[r("div",{class:"floatController mxs:hidden",style:k({transform:b.value?"translateX(0)":"translateX(-100px)"}),ref_key:"floatController",ref:P},[r("div",{class:"flex justify-center",onContextmenu:t[1]||(t[1]=x((()=>{}),["stop","prevent"]))},[r("div",{class:g(["flex flex-col items-center cursor-pointer groupTab justify-center",{pageSelect:""===f(S).state.pageGroup}]),onClick:t[0]||(t[0]=e=>V(""))},[r("img",{style:{width:"24px",height:"24px",filter:"brightness(0.9)"},src:"/static/pageGroup/home.svg",alt:"首页",title:"首页"},null,8,Ge),Se],2)],32),(l(!0),i(c,null,u(f(R),((e,a)=>(l(),d(w,{key:a},{default:p((()=>["pageGroup"===e.type?(l(),i("div",{key:0,"data-id":e.id,class:"flex item justify-center mt-1",onContextmenu:t[2]||(t[2]=x((()=>{}),["stop","prevent"]))},[r("div",{onClick:t=>V(e.id),class:g([{pageSelect:f(S).state.pageGroup===e.id},"flex flex-col items-center cursor-pointer groupTab justify-center relative"]),onContextmenu:x((t=>((e,t)=>{const{left:a,top:s}=t.target.getBoundingClientRect();_.x=a+45,_.y=s,_.status=!0,z.value=e.id})(e,t)),["stop","prevent"])},[r("img",{style:{width:"24px",height:"24px",filter:"brightness(0.9)"},src:e.src,alt:e.name,title:e.name},null,8,Te),r("span",je,C(e.name),1)],42,Me)],40,Ee)):y("",!0)])),_:2},1024)))),128)),r("div",{onClick:t[3]||(t[3]=e=>q(null)),class:"flex justify-center relative items-center mt-4 h-5 cursor-pointer text-2xl hover:text-3xl transition-all"},[h(a,{color:"#fff",style:{"pointer-events":"none"},title:"添加分类"},{default:p((()=>[h(f(M))])),_:1})])],4),r("div",Ie,[r("div",{style:{width:"10px",height:"10px","border-radius":"10px"},class:g(["bg-gray-300 border border-gray-300",""===f(S).state.pageGroup?"bg-opacity-100":"bg-opacity-30"])},null,2),(l(!0),i(c,null,u(f(R),((e,t)=>(l(),d(w,{key:t},{default:p((()=>[r("div",{style:{width:"10px",height:"10px","border-radius":"10px"},class:g(["bg-gray-300 border border-gray-300",f(S).state.pageGroup===e.id?"bg-opacity-100":"bg-opacity-30"])},null,2)])),_:2},1024)))),128))]),_.status?(l(),i("div",{key:0,class:"menuGroup",onContextmenu:t[7]||(t[7]=x((()=>{}),["prevent"])),style:k({left:"75px",top:_.y+"px"})},[r("div",{onMousedown:t[4]||(t[4]=x((()=>{}),["stop"])),onClick:t[5]||(t[5]=e=>q(z.value))},"编辑分类",32),r("div",{onMousedown:t[6]||(t[6]=x((()=>{}),["stop"])),onClick:N},"删除",32)],36)):y("",!0),D.value?(l(),i("div",{key:1,onContextmenu:t[9]||(t[9]=x((()=>{}),["stop","prevent"])),onMousedown:t[10]||(t[10]=x((()=>{}),["stop"])),style:k({top:B.value+"px"}),class:"addPageGroupBox"},[r("div",null,[Be,r("div",Pe,[(l(),i(c,null,u(A,(e=>h(w,null,{default:p((()=>[r("div",{class:g([{selIconsClass:e.src===O.value.src},"flex flex-col justify-center items-center gap-2 p-1 cursor-pointer"]),title:e.name,onClick:t=>{return a=e,void(O.value.src=a.src);var a},style:{width:"30px",height:"30px"}},[r("img",{style:{width:"24px",height:"24px"},src:e.src},null,8,Oe)],10,De)])),_:2},1024))),64))])]),r("div",Ae,[Re,v(r("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>O.value.name=e),class:"rounded-md mt-2 bg-white bg-opacity-20 text-xs px-1.5 py-1.5 w-full text-white placeholder-white outline-none border-none relative",type:"text",maxlength:"5",placeholder:"请填写分类名称"},null,512),[[T,O.value.name]])]),r("div",ze,[h(s,{type:"primary",class:"w-full",round:"",onClick:U,size:"small"},{default:p((()=>[j("保存")])),_:1})])],36)):y("",!0)],32)}}},Ve={class:"RecordNumber msm:hidden flex pointer-events-none"},He={class:"pointer-events-auto"},Ne={key:0,target:"_blank",href:"https://beian.miit.gov.cn/"},Ue={key:1},Xe=r("br",null,null,-1),Fe=["href"],Ye={key:2},$e=r("br",null,null,-1),Ke=["innerHTML"],We={__name:"copyright",setup(e){const a=t();return(e,t)=>(l(),i("div",Ve,[r("div",He,[f(a).state.site.recordNumber?(l(),i("a",Ne,C(f(a).state.site.recordNumber),1)):y("",!0),f(a).state.site.beianMps?(l(),i("span",Ue,[Xe,r("a",{href:"https://beian.mps.gov.cn/#/query/webSearch?code="+f(a).state.site.beianMps,target:"_blank"},C(f(a).state.site.beianMps),9,Fe)])):y("",!0),f(a).state.site.copyright?(l(),i("span",Ye,[$e,r("span",{innerHTML:f(a).state.site.copyright},null,8,Ke)])):y("",!0)])]))}};const Je={class:"flex justify-center pl-4 pr-4"},Ze={class:"search-box max-w-screen-sm ml-2 mr-2 mt-8 flex-shrink"},Qe={class:"focus-search max-w-screen-sm"},et=["src"],tt=r("svg",{class:"pointer-events-none",width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M36 19L24 31L12 19H36Z",fill:"none",stroke:"#9CA3AF","stroke-width":"4","stroke-linejoin":"round"})],-1),at=["type","placeholder","autofocus"],st=["onClick"],nt={class:"searchList max-w-screen-sm flex-shrink"},ot=["onWheel"],lt=["onClick"],it=["src"],rt={class:"text-xs mt-1.5"},ct=["onClick"],ut=[r("img",{style:{padding:"5px"},src:"/dist/assets/add.1711290598880.png",alt:""},null,-1),r("span",{class:"text-xs mt-1.5"},"自定义引擎",-1)],dt={key:0,class:"iconSearchResult space-x-5"},pt={key:0,class:"space-x-3.5 iconSearchResultItem"},vt=["onClick"],mt=["src"],gt={class:"text-xs mt-2"},ft={key:0,class:"searchRecommended"},ht=["onClick"],xt=r("img",{src:"/dist/assets/search.1711290598880.svg",class:"w-4 h-4",alt:""},null,-1),yt={class:"truncate ml-2 text-sm text-gray-600"},kt={__name:"search",setup(n){const o=e(""),d=e(""),b=e("输入并搜索..."),_=e([]);let L=!1;const G=t(),S=e("hidden"),E=e("");setTimeout((()=>{S.value="text",G.state.config.openType.autofocus&&setTimeout((()=>{document.querySelector("#search").click(),document.querySelector("#search").focus()}),100)}),300);const M=e({}),T=e([]),j=e=>{const{scrollLeft:t=0}=o.value,{deltaY:a=0,deltaX:s=0}=e;let n=Math.abs(s)>Math.abs(a)?s:a;o.value.scrollTo({top:0,left:n+t})},I=e(-1),q=e(!1),V=e(),H=e(""),N=()=>{q.value&&(z({target:V.value},"flipOutX"),setTimeout((()=>{q.value=!1}),450))},U=()=>{G.state.config.openType.searchRecommend&&ae.ajax({url:"https://www.baidu.com/sugrec?prod=pc&wd="+H.value,dataType:"jsonp",success:e=>{if(e.g){let t=e.g,a=[];t.forEach((e=>{a.push(e.q)}));let s=Math.ceil(d.value.getBoundingClientRect().top);G.state.config.openType.searchLink&&(s+=110),s=window.innerHeight-s,re.value=a.slice(0,Math.ceil(s/45))}else re.value=[]}})},X=()=>{let e=[];""!==H.value.trim()&&G.state.link.forEach((t=>{const{name:a="",url:s="",type:n=""}=t;(a.toLowerCase().indexOf(H.value.toLowerCase())>-1||s.toLowerCase().indexOf(H.value.toLowerCase())>-1)&&"component"!==n&&e.push(t)})),_.value=e},F=()=>{I.value=-1,U(),X()},Y=e=>{O((()=>{if(L){let e=H.value;ee(e)}}))},$=()=>{N(),te.value=!0},Z=()=>{H.value="",F()},Q=e=>{H.value=e,ee(e)},ee=e=>{let t=M.value.url,a="";/^(http:\/\/|https:\/\/)/.test(e)?a=e:(""===e&&(e=b.value),a=/\{1}/.test(t)?t.replace(/\{1}/,e):t+e),G.state.config.openType.searchOpen?W(a):location.href=a},te=e(!1),ne=e=>{setTimeout((e=>{te.value=!1}),300),e.preventDefault(),e.stopPropagation()},oe=()=>{q.value?N():q.value=!0},le=e=>{if("Tab"===e.code){let t=T.value.findIndex((e=>e.name===M.value.name));e.shiftKey?t>0?t-=1:t=T.value.length-1:t<T.value.length-1?t+=1:t=0,pe(T.value[t]),e.preventDefault(),e.stopPropagation()}"Enter"!==e.code&&"NumpadEnter"!==e.code&&"Enter"!==e.key||(L=!0,setTimeout((()=>{L=!1}),100)),"Escape"===e.code&&(H.value="",U(),X()),"ArrowDown"===e.code&&(I.value===re.value.length-1?I.value=0:I.value+=1,re.value.length>0&&(H.value=re.value[I.value]),e.preventDefault(),e.stopPropagation()),"ArrowUp"===e.code&&(0===I.value?I.value=re.value.length-1:I.value-=1,re.value.length>0&&(H.value=re.value[I.value]),e.preventDefault(),e.stopPropagation())},ie="#747474",re=e([]),ce=e=>{const{id:t}=e.target;"Searchengine"!==t&&q.value&&N()},ue=()=>{G.state.isLogin?(J("tab://addSearchEngine"),N()):A.warning("该功能需要登录后才能使用")},de=e=>{b.value=e};B.on("placeholder",de),window.addEventListener("click",ce),s((()=>{window.removeEventListener("click",ce),B.off("placeholder",de)}));const pe=e=>{M.value=e,R.set("SearchEngineLocal",e),N()},ve=()=>{const e=R.get("SearchEngineLocal",!1);if(e){const{icon:t,name:a,url:s}=e;pe({name:a,url:s,icon:t})}else T.value.length>0&&pe(T.value[0])};return ve(),a((()=>G.state.searchEngine),(e=>{T.value=e,ve()})),G.commit("pullSearchEngine"),(e,t)=>{var a;const s=P("animate");return l(),i("div",Je,[r("div",Ze,[r("div",Qe,[r("div",{class:"layui-icon Searchengine hover select-none",id:"Searchengine",onClick:oe},[r("img",{src:(null==(a=M.value)?void 0:a.icon)||f(se),class:"pointer-events-none"},null,8,et),tt]),v(r("input",{ref_key:"searchRef",ref:E,id:"search",type:S.value,autocomplete:"off",onInput:F,"onUpdate:modelValue":t[0]||(t[0]=e=>H.value=e),class:"text-sm",placeholder:b.value,onContextmenu:t[1]||(t[1]=x((()=>{}),["prevent","stop"])),onFocus:$,onBlur:ne,autocapitalize:"none",onKeydown:le,onKeypress:Y,autofocus:f(G).state.config.openType.autofocus},null,40,at),[[D,H.value]]),v(r("i",{onClick:x(Z,["stop"])},[r("svg",{width:"24",height:"24",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M14 14L34 34",stroke:ie,"stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M14 34L34 14",stroke:ie,"stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})])],8,st),[[m,H.value]]),r("i",{class:"hover",onClick:t[2]||(t[2]=e=>Q(H.value))},[r("svg",{width:"22",height:"22",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[r("path",{d:"M21 38C30.3888 38 38 30.3888 38 21C38 11.6112 30.3888 4 21 4C11.6112 4 4 11.6112 4 21C4 30.3888 11.6112 38 21 38Z",fill:"none",stroke:ie,"stroke-width":"4","stroke-linejoin":"round"}),r("path",{d:"M26.657 14.3431C25.2093 12.8954 23.2093 12 21.0001 12C18.791 12 16.791 12.8954 15.3433 14.3431",stroke:ie,"stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),r("path",{d:"M33.2216 33.2217L41.7069 41.707",stroke:ie,"stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})])])]),r("div",nt,[q.value?v((l(),i("div",{key:0,class:"searchType space-x-5",ref_key:"searchTypeDom",ref:V},[r("div",{class:"space-x-3.5",ref_key:"searchEngineBox",ref:o,onWheel:x(j,["stop","prevent"])},[(l(!0),i(c,null,u(T.value,(e=>(l(),i("div",{onClick:x((t=>pe(e)),["stop"]),class:"hover flex-shrink"},[r("img",{src:e.icon,alt:""},null,8,it),r("span",rt,C(e.name),1)],8,lt)))),256)),r("div",{class:"hover flex-shrink",onClick:x(ue,["stop"])},ut,8,ct)],40,ot)])),[[s,"flipInX"]]):y("",!0),h(w,{name:"fadeInIcon"},{default:p((()=>[te.value&&_.value.length>0&&f(G).state.config.openType.searchLink?(l(),i("div",dt,[_.value.length>0?(l(),i("div",pt,[(l(!0),i(c,null,u(_.value,(e=>(l(),i("div",{onClick:t=>f(K)(null==e?void 0:e.id),class:"hover flex-shrink"},[r("img",{src:e.src,style:k({background:null==e?void 0:e.bgColor}),alt:""},null,12,mt),r("div",gt,C(e.name),1)],8,vt)))),256))])):y("",!0)])):y("",!0)])),_:1}),r("div",{ref_key:"searchRecommended",ref:d},[te.value&&re.value.length&&f(G).state.config.openType.searchRecommend?(l(),i("div",ft,[r("ul",null,[(l(!0),i(c,null,u(re.value,((e,t)=>(l(),i("li",{class:g(["flex items-center searchRecommendedList",t===I.value?"keySelect":""]),onClick:t=>Q(e)},[xt,r("p",yt,C(e),1)],10,ht)))),256))])])):y("",!0)],512)])])])}}};const wt=["id"],bt=["src"],Ct={key:1,src:"/dist/assets/wapp.1711290598880.svg",class:"wapp rounded-full",alt:""},_t={class:"iconName"},Lt={__name:"icon",setup(s){const n=q(),c=t(),u=e(Object.assign({},n.data));let{bgColor:d=null}=u;const v=e(d),m=()=>{let{bgColor:e=null}=u.value;v.value=e,null===e&&c.state.config.theme.iconBg&&(v.value="#fff")};m(),a((()=>c.state.config.theme.iconBg),m);a((()=>n.data),(e=>{d=e.bgColor,v.value=d,u.value=e,m()}));return(e,t)=>{var a;const s=o("el-tooltip");return l(),i("div",{draggable:"true",onDragstart:t[3]||(t[3]=e=>{return t=u.value,void(window.moveMark=Object.assign(t,{form:"link"}));var t}),class:g(["item filter row-span-1 col-span-1",f(c).state.editStatus?"edits":""])},[h(s,{effect:"customized",content:null==(a=u.value)?void 0:a.name,placement:"bottom",offset:-5,disabled:!f(c).state.config.theme.LinkTitle},{default:p((()=>{var e,a,s;return[r("div",{class:"itemBox relative hover",onClick:t[1]||(t[1]=e=>{return t=u.value,c.state.moveStatus=!1,void K(null==t?void 0:t.id);var t}),id:u.value.id,onContextmenu:t[2]||(t[2]=x((e=>((e,t)=>{const{button:a,clientX:s,clientY:n}=e;2===a&&B.emit("mousePs",{left:s,top:n,data:t,call:function(){ae(e.target).parent().remove()}}),e.stopPropagation()})(e,u.value)),["prevent"]))},[f(c).state.editStatus?(l(),i("img",{key:0,onClick:t[0]||(t[0]=x((e=>{return t=u.value,ae(e.target).parent().parent().remove(),void c.commit("delLink",t.id);var t}),["stop"])),class:"del-footer",src:ne,alt:""})):y("",!0),r("img",{class:"icon",src:null==(e=u.value)?void 0:e.src,style:k({background:v.value}),alt:""},null,12,bt),1===(null==(a=u.value)?void 0:a.app)?(l(),i("img",Ct)):y("",!0),r("div",_t,C(null==(s=u.value)?void 0:s.name),1)],40,wt)]})),_:1},8,["content","disabled"])],34)}}};const Gt={class:"comp"},St=["data-appid","src"],Et=["src"],Mt={key:2,class:"moveIco"},Tt=[(e=>(N("data-v-dfa0401a"),e=e(),U(),e))((()=>r("img",{src:"/dist/assets/arc.1711290598880.svg",alt:"move",title:"移动或右键菜单"},null,-1)))],jt={class:"names"};var It=b({__name:"plugin",props:{info:{type:Object}},setup(s){const n=s,o=e(""),c=e(!0),u=t(),{size:v="1x1",component:m,url:k,id:b}=n.info;let _;"plugins"===m||(_=V((()=>{return"./plugin/iconGroup.vue"===(e=`./plugin/${m}.vue`)?H((()=>import("./iconGroup.1711290598880.js")),["assets/iconGroup.1711290598880.js","assets/iconGroup.1711290598880.css","assets/index.1711290598880.js","assets/index.17112905988805.css","assets/jquery.1711290598880.js"]):new Promise((function(t,a){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(a.bind(null,new Error("Unknown variable dynamic import: "+e)))}));var e})));const L=()=>{c.value=!1},G=()=>{c.value=!0},S=e("c"+v),E=e(n.info);a((()=>n.info),(e=>{S.value="c"+e.size,E.value=e}));return(e,t)=>(l(),i("div",{class:g(["item",(f(u).state.editStatus?"edits":"")+" filter "+S.value])},[r("div",{class:"itemBox",onContextmenu:t[2]||(t[2]=x((e=>((e,t)=>{const{button:a,clientX:s,clientY:n}=e;2===a&&B.emit("mousePs",{left:s,top:n,data:Object.assign({},t)}),e.stopPropagation()})(e,E.value)),["prevent"]))},[f(u).state.editStatus?(l(),i("img",{key:0,onClick:t[0]||(t[0]=x((e=>{return t=E.value,void u.commit("delLink",t.id);var t}),["stop"])),class:"del-footer",src:ne,alt:""})):y("",!0),r("section",Gt,["plugins"===f(m)?(l(),d(w,{key:0},{default:p((()=>[r("div",{class:"iframeBox",onClick:t[1]||(t[1]=e=>f(Z)(E.value))},["1x1"!==E.value.size?(l(),i("iframe",{key:0,ref_key:"iframe",ref:o,"data-appid":E.value.id,class:g([{"pointer-events-none":"1x1"===E.value.size||f(u).state.moveStatus},"plugins"]),allowtransparency:"true",onLoad:L,onLoadstart:G,src:E.value.url},"\r\n            ",42,St)):(l(),i("img",{key:1,style:{width:"100%",height:"100%"},src:E.value.src,alt:""},null,8,Et)),"1x1"!==E.value.size?(l(),i("div",Mt,Tt)):y("",!0)])])),_:1})):(l(),d(w,{key:1},{default:p((()=>[h(f(_),{data:E.value},null,8,["data"])])),_:1}))]),r("div",jt,C(E.value.name),1)],32)],2))}},[["__scopeId","data-v-dfa0401a"]]);const Bt={class:"links-box",ref:"linksBox"},Pt={__name:"main",setup(s){const o=q(),v=e(35),m=t(),g=e(""),f=e(window.innerWidth);v.value=m.state.config.theme.colsGap||35,a((()=>m.state.config.theme.colsGap),(e=>{v.value=e||35}));let h=!1,x=null;const b=e([]),C=()=>{let e=[];m.state.link.forEach((t=>{if("pageGroup"!==t.type){if(t.pageGroup===o.pageGroup)return e.push(t);if(!(""!==o.pageGroup&&null!==o.pageGroup||""!==t.pageGroup&&t.pageGroup))return e.push(t)}})),b.value=E(e)};return C(),a((()=>m.state.link),C),n((async()=>{X((()=>{!function(){const e=x.toArray();let t=ae(g.value);e.forEach((e=>{let a=t.find(`[data-id='${e}']`);a.length>1&&a.slice(1).remove()}))}()}));const e=e=>{x.toArray().forEach(((e,t)=>{let a=m.state.link.find((t=>t.id===e));a.pid=null,a.pageGroup=o.pageGroup,a.sort=t})),m.commit("updateLink")};let t=g.value;if(t){const a={animation:300,delay:500,delayOnTouchOnly:!0,draggable:".item",group:{name:"it",pull:function(e){let t=e.el.id;return"icon"!==h.item.dataset.type||"footer-itxst"!==t||"clone"},put:!0},onChoose:function(e){m.state.moveStatus=!0,h=e,window.MoveData={type:e.item.dataset.type,canMove:!1}},onEnd(){m.state.moveStatus=!1},onChange(){window.MoveData.canMove=!1},onMove:function(e){return!e.dragged.dataset.type&&!e.related.dataset.url||("component"===e.dragged.dataset.type?"footerItxst"!==e.to.id:"iconGroup"!==e.related.dataset.url||(!0===window.MoveData.canMove||(window.MoveData.canMove,!1)))},onAdd(t){e(),t.clone.remove(),t.item.remove()},onUpdate:function(t){e()}};x=Q.create(t,a)}})),(e,t)=>(l(),i("div",Bt,[r("div",{style:k({columnGap:(f.value<500?25:v.value)+"px"}),class:"grid itxst gap-y-3 grid-cols-t16 m2k:grid-cols-t14 mxl:grid-cols-t12 mlg:grid-cols-t10 mmd:grid-cols-t8 msm:grid-cols-t6 mxs:grid-cols-t4",ref_key:"itxst",ref:g},[(l(!0),i(c,null,u(b.value,(e=>(l(),d(w,{key:null==e?void 0:e.id},{default:p((()=>["component"===(null==e?void 0:e.type)?(l(),d(It,{key:0,info:e,"data-url":e.component,"data-type":null==e?void 0:e.type,"data-id":null==e?void 0:e.id},null,8,["info","data-url","data-type","data-id"])):(null==e?void 0:e.pid)||"icon"!==e.type?y("",!0):(l(),d(Lt,{key:1,data:e,class:"mainBox","data-type":null==e?void 0:e.type,"data-id":null==e?void 0:e.id},null,8,["data","data-type","data-id"]))])),_:2},1024)))),128))],4)],512))}};const Dt=["data-id","data-index"];var Ot=b({__name:"pageGroup",setup(s){const o=t(),v=G((()=>{let e=[{name:"首页",id:""}];return o.state.link.forEach((t=>{"pageGroup"===t.type&&e.push(t)})),E(e)})),m=e(o.state.pageGroup);let g=null;const x=e(""),y=e(0),b=e("");B.on("cardMouseRight",(e=>{B.emit("deskTopMouseClose"),B.emit("mousePs",{left:e.left,top:e.top,data:Object.assign({},o.state.link.find((t=>t.id===e.data.id)))})}));a((()=>o.state.pageGroup),(e=>{x.value=m.value,m.value=e,(()=>{const e=v.value.findIndex((e=>e.id===m.value));let t="up";t=e>v.value.findIndex((e=>e.id===x.value))?"up":"down";let a=null;for(const n of ae(".linkBoxPage").children())n.dataset.id===m.value&&(a=n);g=a;let s=null;for(const n of ae(".linkBoxPage").children())n.dataset.id===x.value&&(s=n);"up"===t?(ae(a).css({transform:"translate3d(0%, 100vh, 0)"}).css({transition:"transform 0.5s",transform:"translate3d(0%, 15px, 0)"}),ae(s).css({transform:"translate3d(0%, 15px, 0)"}).css({transition:"transform 0.5s",transform:"translate3d(0%, -100vh, 0)"})):(ae(a).css({transform:"translate3d(0%, -100vh, 0)"}).css({transition:"transform 0.5s",transform:"translate3d(0%, 15px, 0)"}),ae(s).css({transform:"translate3d(0%, 15px, 0)"}).css({transition:"transform 0.5s",transform:"translate3d(0%, 100vh, 0)"}));for(const n of ae(".linkBoxPage").children())n.dataset.index<e&&n!=s&&ae(n).css({transition:"none",transform:"translate3d(0%, -100vh, 0)"}),n.dataset.index>e&&n!=s&&ae(n).css({transition:"none",transform:"translate3d(0%, 100vh, 0)"})})()}));const C=()=>{let e=document.querySelector(".timeAndSearch").getBoundingClientRect(),t=window.innerHeight-(e.top+e.height);y.value=t-(window.innerWidth<500?0:110)};let _=!1,L=null;const S=e=>{const{scrollHeight:t,clientHeight:a,scrollTop:s}=g;if(e){if(Math.ceil(a+s)<t-1)return!1}else if(s>0)return!1;const n=v.value.findIndex((e=>e.id===m.value));e?n<v.value.length-1&&(o.state.pageGroup=v.value[n+1].id):n>0&&(o.state.pageGroup=v.value[n-1].id)};const M=e=>{const{deltaY:t}=e;return!!(null===L?(L=!1,1):(L&&clearTimeout(L),L=setTimeout((()=>{L=null}),50),0))&&(!_&&(_=!0,S(t>0),void setTimeout((()=>{_=!1}),300)))};let T=0,j=0;function I(e){if(e.touches&&e.touches.length>0){const t=e.touches[0];T=t.clientY}}let P=(new Date).getTime();const D=()=>{P>(new Date).getTime()-400&&(T-j>0&&T-j>=60&&S(!1),T-j<0&&T-j<=-60&&S(!0)),_=!1},O=e=>{if(e.touches&&e.touches.length>0){const t=e.touches[0];j=t.clientY,P=(new Date).getTime()}};let A=null;return n((()=>{(()=>{let e=null;const t=v.value.findIndex((e=>e.id===m.value));for(const a of ae(".linkBoxPage").children())a.dataset.id===m.value&&(e=a),a.dataset.index<t&&ae(a).css({transition:"none",transform:"translate3d(0%, -100vh, 0)"}),a.dataset.index>t&&ae(a).css({transition:"none",transform:"translate3d(0%, 100vh, 0)"});ae(e).css("transform","translate3d(0%, 15px, 0)"),g=e})(),C(),window.addEventListener("resize",C),document.querySelector(".linkBoxPage").addEventListener("wheel",M),document.querySelector(".linkBoxPage").addEventListener("touchstart",O),document.querySelector(".linkBoxPage").addEventListener("touchmove",I),document.querySelector(".linkBoxPage").addEventListener("touchend",D),A=setInterval(C,1e3)})),F((()=>{clearInterval(A),document.querySelector(".linkBoxPage").removeEventListener("touchstart",O),document.querySelector(".linkBoxPage").removeEventListener("touchmove",I),document.querySelector(".linkBoxPage").removeEventListener("touchend",D),window.removeEventListener("resize",C),document.querySelector(".linkBoxPage").removeEventListener("wheel",M)})),(e,t)=>(l(),i("div",{class:"flex linkBoxPage",ref_key:"linkBox",ref:b,style:k({height:y.value+"px"})},[(l(!0),i(c,null,u(f(v),((e,t)=>(l(),d(w,null,{default:p((()=>[r("div",{class:"pageGroupItem","data-id":e.id,"data-index":t},[h(Pt,{pageGroup:e.id},null,8,["pageGroup"])],8,Dt)])),_:2},1024)))),256))],4))}},[["__scopeId","data-v-29039c0a"]]);const At=["src"],Rt={key:0,class:"IndexPage"},zt={class:"Pages"},qt={class:"sm:mb-32 flex"},Vt={class:"right-setting-box"},Ht={key:0,src:"/dist/assets/apps.1711290598880.svg",f1:"",title:"组件模式",alt:"标准模式"},Nt={key:1,src:"/dist/assets/light.1711290598880.svg",f0:"",title:"简洁模式",alt:"简约"},Ut=r("img",{style:{width:"28px",height:"28px"},title:"个人控制台",src:"/dist/assets/kongzhi.1711290598880.svg",alt:"user Center"},null,-1),Xt=r("div",null,"点击这里可以切换简洁模式和组件模式哟，您也可以点击时间来切换！",-1),Ft=r("div",null,"点击这里可以打开个人中心，您也可以使用鼠标右键设置来打开！",-1),Yt={class:"msm:hidden"},$t={__name:"index",setup(u){const v=e(!0),m=e(),w=e(),b=e(!1),C=()=>{localStorage.getItem("guide")||setTimeout((()=>{b.value=!0}),2e3)},_=()=>{localStorage.setItem("guide",1)},L=()=>{v.value=!1,O((()=>{v.value=!0}))},G=e(!0),S=V((()=>H((()=>import("./deskTopMouse.1711290598880.js")),["assets/deskTopMouse.1711290598880.js","assets/deskTopMouse.1711290598880.css","assets/index.1711290598880.js","assets/index.17112905988805.css","assets/href.1711290598880.js","assets/dialog.1711290598880.js"]))),E=V((()=>H((()=>import("./controller.1711290598880.js")),["assets/controller.1711290598880.js","assets/controller.1711290598880.css","assets/index.1711290598880.js","assets/index.17112905988805.css"]))),M=V((()=>H((()=>import("./mouseMenu.1711290598880.js")),["assets/mouseMenu.1711290598880.js","assets/mouseMenu.1711290598880.css","assets/index.1711290598880.js","assets/index.17112905988805.css","assets/href.1711290598880.js","assets/dialog.1711290598880.js"]))),T=V((()=>H((()=>import("./appSide.1711290598880.js")),["assets/appSide.1711290598880.js","assets/appSide.1711290598880.css","assets/index.1711290598880.js","assets/index.17112905988805.css"]))),j=V((()=>H((()=>import("./iconGroupBox.1711290598880.js")),["assets/iconGroupBox.1711290598880.js","assets/iconGroupBox.1711290598880.css","assets/index.1711290598880.js","assets/index.17112905988805.css","assets/jquery.1711290598880.js","assets/sortable.esm.1711290598880.js","assets/href.1711290598880.js","assets/dialog.1711290598880.js","assets/net.1711290598880.js"]))),I=t(),P=e(!0),D=e(0),A=e(!0),R=()=>{I.commit("pullAll"),I.commit("pullUser")};R();const z=()=>{I.state.config.theme.CompactMode=!I.state.config.theme.CompactMode,I.commit("updateConfig"),X()},q=()=>{P.value=!1,O((()=>{P.value=!0}))};B.on("RefreshLink",q);const N=(e,t)=>{const{button:a,clientX:s,clientY:n}=e;2===a&&B.emit("deskTopMouse",{left:s,top:n}),e.stopPropagation()},U=()=>{A.value=!1,O((e=>{A.value=!0}))},X=()=>{I.state.config.theme.CompactMode?D.value="150px":D.value="0px"};X();const F=()=>{I.state.editStatus&&(I.state.editStatus=!1)},K=()=>{G.value=!1,O((()=>{G.value=!0,R()}))};B.on("reload",K),window.addEventListener("click",F);const W=e=>{if("F12"===e.key){const{manager:t=0}=I.state.user;0===t&&(e.stopPropagation(),e.preventDefault())}};return n((()=>{window.addEventListener("keydown",W),Y({url:"/Api/globalNotify"}).then((e=>{if(1===e.code){const a=e.data;if(a)try{let e=JSON.parse(a);const{html:t="",title:s="",status:n="0"}=e,{globalNotify:o=""}=localStorage;t!=o&&"1"==n?($({title:s,dangerouslyUseHTMLString:!0,zIndex:99999,duration:3e4,customClass:"globalNotify",message:t,onClose:()=>{localStorage.setItem("globalNotify",t),C()}}),setTimeout((()=>{localStorage.setItem("globalNotify",t)}),1e3)):C()}catch(t){console.log(t)}}else C()}))})),s((()=>{B.off("reload",K),B.off("RefreshLink",q),window.removeEventListener("click",F),window.removeEventListener("keydown",W)})),a((()=>I.state.configLoad),(e=>{X()})),a((()=>I.state.user),(e=>{if(1===e.manager){if(sessionStorage.getItem("upGradeVersion"))return;Y({url:"/admin.Index/authorization"}).then((e=>{var t,a;if(1===e.code)try{(null==(a=null==(t=e.data)?void 0:t.remote)?void 0:a.released)&&$.success({title:"更新提示！",dangerouslyUseHTMLString:!0,duration:8e3,message:"亲爱的管理员您好<br/>检测到程序有新版本可以更新，<br/>请前往后台管理升级到最新版！"})}catch(s){}})),sessionStorage.setItem("upGradeVersion","1")}})),window.addEventListener("message",(function(e){e.origin!==location.origin&&e.source.postMessage("ACK",{targetOrigin:e.origin})})),(e,t)=>{const a=o("el-button"),s=o("el-space"),n=o("el-tour-step"),u=o("el-tour");return l(),i(c,null,[r("div",{class:"indexBody",onContextmenu:t[3]||(t[3]=x((t=>N(t,e.item)),["prevent"]))},[r("img",{class:"background",src:`${f(I).state.config.theme.backgroundImage}`,alt:""},null,8,At),r("div",{class:"backgroundBlur",id:"background",onContextmenu:t[0]||(t[0]=x((e=>N(e)),["prevent"])),style:k({backdropFilter:`blur(${f(I).state.config.theme.blur}px)`,backgroundColor:`rgba(0,0,0,${f(I).state.config.theme.opacity})`})},null,36),G.value&&f(I).state.configLoad?(l(),i("div",Rt,[r("div",zt,[r("div",{class:"timeAndSearch",style:k({marginTop:D.value,transition:"all .5s"})},[h(Le,{onChange:z}),h(kt)],4),r("div",qt,[!f(I).state.config.theme.CompactMode&&P.value?(l(),d(Ot,{key:0})):y("",!0)])]),h(s,null,{default:p((()=>[r("div",Vt,[h(a,{onClick:z,class:"fixed-jianjie",ref_key:"ref1",ref:m},{default:p((()=>[f(I).state.config.theme.CompactMode?(l(),i("img",Ht)):(l(),i("img",Nt))])),_:1},512),h(a,{ref_key:"ref2",ref:w,onClick:t[1]||(t[1]=e=>f(J)("tab://setting")),class:"fixed-setting ml-4"},{default:p((()=>[Ut])),_:1},512)])])),_:1}),h(u,{modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),onClose:_},{default:p((()=>{var e,t;return[h(n,{target:null==(e=m.value)?void 0:e.$el,title:"模式切换",description:"模式切换"},{default:p((()=>[Xt])),_:1},8,["target"]),h(n,{target:null==(t=w.value)?void 0:t.$el,title:"个人中心",description:"个人中心"},{default:p((()=>[Ft])),_:1},8,["target"])]})),_:1},8,["modelValue"])])):y("",!0)],32),f(I).state.configLoad?(l(),d(We,{key:0,class:g({"justify-center text-center":!f(I).state.config.theme.tabbar||!A.value||f(I).state.config.theme.CompactMode||!f(I).state.configLoad||!P.value})},null,8,["class"])):y("",!0),r("div",Yt,[f(I).state.config.theme.tabbar&&A.value&&!f(I).state.config.theme.CompactMode&&f(I).state.configLoad&&P.value?(l(),d(we,{key:0,reload:U})):y("",!0)]),!f(I).state.config.theme.CompactMode&&f(I).state.config.theme.pageGroup&&v.value&&f(I).state.configLoad?(l(),d(qe,{key:1,reload:L})):y("",!0),h(f(T)),h(f(E)),h(f(M)),h(f(S)),h(f(j))],64)}}};var Kt=Object.freeze(Object.defineProperty({__proto__:null,default:$t},Symbol.toStringTag,{value:"Module"}));export{Lt as _,Kt as i};

import{r as a,u as e,W as t,P as l,a as s,N as o,b as i,d as r,f as n,F as c,g as p,n as u,y as d,j as m,l as g,i as v,k as b,ay as k,a8 as y,h as f,q as x,t as h,aa as C,p as _,J as j,T as z,L as w}from"./index.e57f2c47.1728219882564.js";import{r as L}from"./index.2c0d47c9.1728219882564.js";import{T as S}from"./textIcon.f6bcb669.1728219882564.js";import"./wapp.52bcd0c4.1728219882564.js";import"./sortable.esm.3c354c6c.1728219882564.js";import"./dialog.26004b99.1728219882564.js";import"./app.b2f7eddc.1728219882564.js";import"./index.21f8c2f4.1728219882564.js";import"./wangEditor.e74748c5.1728219882564.js";import"./defavatar.6cebf928.1728219882564.js";import"./noLogo.f49b971f.1728219882564.js";/* empty css                                                                 */const A=[{sort:5,name:"记事本",size:"1x1",src:"/static/note.png",url:"/noteApp",type:"icon",app:1,pid:null,bgColor:"rgba(252,141,0,1)",tips:"快捷记录您的日常笔记和灵感多端同步！"},{app:0,pid:null,src:"/static/editAll.png",url:"tab://editAll",name:"批量编辑",size:"1x1",sort:12,bgColor:"rgba(255,255,255,1)",tips:"快捷批量编辑您的桌面标签",type:"icon"},{sort:13,name:"添加标签",size:"1x1",src:"/static/addIco.png",url:"tab://addicon",type:"icon",bgColor:"rgba(255,255,255,1)",tips:"添加您的标签或卡片组件",app:0,pid:null},{app:0,pid:null,src:"/static/backgroundIco.png",url:"tab://background",name:"壁纸",bgColor:"rgba(255,255,255,1)",tips:"设置自己的个性首页背景",size:"1x1",sort:8,type:"icon"},{app:0,pid:null,src:"/static/bookmark.svg",url:"tab://bookmark",name:"书签管理",bgColor:"rgba(250, 99, 110, 1)",tips:"管理浏览器的书签列表",size:"1x1",sort:8,type:"icon",auth:!0},{app:0,pid:null,src:"/static/tip.svg",url:"tab://tip",name:"打赏",bgColor:"rgba(149,168,184,1)",tips:"打赏鼓励支持",size:"1x1",sort:8,type:"icon"},{app:0,pid:null,src:"/static/setting.png",url:"tab://setting",name:"设置",bgColor:"rgba(149,168,184,1)",tips:"系统设置面板以及个人中心",size:"1x1",sort:8,type:"icon"}];const I={class:"onlinemall"},T=["onClick"],V={class:"linkscroll"},W={class:"px-4 xs:w-2/3 m-auto mt-0.5"},q={key:1,class:"linklist grid sm:grid-cols-3 grid-cols-1 mt-4"},F={key:0},G={class:"links"},B=["src"],E={class:"linkTips"},J={class:"text-sm font-bold line-clamp-1"},K=["title"],M={class:"mt-2 flex items-center justify-end"},N={class:"flex justify-center mb-4 mt-4"},P={__name:"onlineMall",setup(P){const U=a(!0),D=a([]),H=e(),O=a(-1),Q=a(""),R=a(1),X=a(0),Y=a([]),Z=({auth:a=!1})=>!a||!!H.state.auth;t({url:"/LinkStore/getFolder"}).then((a=>{a.data.unshift({id:0,name:"全部"}),a.data.unshift({id:-1,name:"系统内置组件"}),D.value=a.data,l((()=>{let a=document.querySelector(".linkarea");a.scrollWidth>a.clientWidth&&(showArrow.value=!0)}))}));const $=a(""),aa=(a,e)=>{if(Y.value=[],-1===a)return Y.value=A,O.value=a,X.value=A.length,void(U.value=!1);U.value=!0,a!==O.value&&(O.value=a,R.value=1,ea())},ea=()=>{const a=Q.value.replace(/(http:|https:|)+(\/\/)/,"");t({url:"/LinkStore/list",method:"post",data:{area:O.value,name:a,page:R.value}}).then((a=>{Y.value=a.data.data,X.value=a.data.total,U.value=!1}))},ta=a=>{R.value=a,ea()};return aa(0),(a,e)=>{const l=s("el-icon"),A=s("el-input"),P=s("el-empty"),R=s("el-button"),la=s("el-pagination"),sa=o("loading");return i(),r("div",I,[n("div",{class:"linkarea select-none space-y-2",ref_key:"areaBox",ref:$},[(i(!0),r(c,null,p(D.value,(a=>(i(),r("div",{class:u({"bg-rose-500 text-white":a.id===O.value,linkareaItem:!0}),onClick:e=>aa(a.id)},d(a.name),11,T)))),256))],512),m((i(),r("div",V,[n("div",W,[g(A,{modelValue:Q.value,"onUpdate:modelValue":e[0]||(e[0]=a=>Q.value=a),class:"iconSearch",placeholder:"快捷搜索标签",onKeydown:y(ea,["enter"])},{suffix:v((()=>[g(l,{color:"#5d5d5d",size:"20px",class:"cursor-pointer",onClick:ea},{default:v((()=>[g(b(k))])),_:1})])),_:1},8,["modelValue"])]),0!==Y.value.length||U.value?(i(),r("div",q,[(i(!0),r(c,null,p(Y.value,(a=>(i(),f(z,{key:a.id},{default:v((()=>[Z(a)?(i(),r("div",F,[n("div",G,[/^txt:/.test(a.src)?(i(),f(S,{key:0,bgColor:a.bgColor,text:a.src,class:"linklogo",style:{margin:"0 !important"}},null,8,["bgColor","text"])):(i(),r("img",{key:1,style:x({backgroundColor:a.bgColor}),src:b(h)(a.src),class:"linklogo",alt:""},null,12,B)),n("div",E,[n("span",J,d(a.name),1),n("div",{class:"text-xs line-clamp-2",title:a.tips},d(a.tips),9,K)])]),n("div",M,[-1!==O.value&&(null==a?void 0:a.app)<=0?(i(),f(l,{key:0,size:"20px",class:"hover:text-blue-400 hover",onClick:e=>b(L)(a.url,!0)},{default:v((()=>[g(b(C))])),_:2},1032,["onClick"])):_("",!0),g(R,{style:{"background-color":"rgba(238,238,238,0.46)"},size:"small",class:"ml-2",round:"",onClick:e=>(a=>{let e={sort:99999,id:w(),name:a.name,size:a.size||"1x1",src:a.src,url:a.url,type:a.type,app:a.app,tips:a.tips,origin_id:a.id,bgColor:a.bgColor,pageGroup:H.state.pageGroup,custom:a.custom};H.state.link.push(e),H.commit("updateLink"),t({url:"/LinkStore/install_num",method:"post",data:{id:a.id}}).finally((a=>{}))})(a)},{default:v((()=>e[1]||(e[1]=[j("添加 ")]))),_:2},1032,["onClick"])])])):_("",!0)])),_:2},1024)))),128))])):(i(),f(P,{key:0,description:"该分类没有更多图标啦！",class:"mt-6"})),n("div",N,[X.value>12&&!U.value?(i(),f(la,{key:0,layout:"prev, pager, next","page-size":12,total:X.value,onCurrentChange:ta},null,8,["total"])):_("",!0)])])),[[sa,U.value]])])}}};export{P as default};

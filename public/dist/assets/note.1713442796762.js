import{r as e,N as t,ah as o,Z as s,w as n,J as a,o as l,b as i,c as r,d,e as u,k as f,h as p,l as k,g as c,j as h,ay as v,az as C,F as g,f as w,x,T as m}from"./index.1713442796762.js";const j=[u("svg",{width:"38px",height:"38px",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M7 37C7 29.2967 7 11 7 11C7 7.68629 9.68629 5 13 5H35V31C35 31 18.2326 31 13 31C9.7 31 7 33.6842 7 37Z",fill:"none",stroke:"rgb(248, 162, 34)","stroke-width":"4","stroke-linejoin":"round"}),u("path",{d:"M35 31C35 31 14.1537 31 13 31C9.68629 31 7 33.6863 7 37C7 40.3137 9.68629 43 13 43C15.2091 43 25.8758 43 41 43V7",stroke:"rgb(248, 162, 34)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),u("path",{d:"M14 37H34",stroke:"rgb(248, 162, 34)","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1)],y={key:1,class:"note2"},M=u("svg",{width:"80%",height:"80%",viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[u("path",{d:"M7 37C7 29.2967 7 11 7 11C7 7.68629 9.68629 5 13 5H35V31C35 31 18.2326 31 13 31C9.7 31 7 33.6842 7 37Z",fill:"none",stroke:"#fff","stroke-width":"4","stroke-linejoin":"round"}),u("path",{d:"M35 31C35 31 14.1537 31 13 31C9.68629 31 7 33.6863 7 37C7 40.3137 9.68629 43 13 43C15.2091 43 25.8758 43 41 43V7",stroke:"#fff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"}),u("path",{d:"M14 37H34",stroke:"#fff","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round"})],-1),b=u("span",null,"备忘录",-1),H={class:"text-ellipsis pl-2 pr-2"},_={__name:"note",props:{data:{type:Object,default:()=>({size:"1x1"})}},setup(_){var z;const L=_,V=e(t.get("noteList",[])),B=e(t.get("noteTitleHidden",!1)),T=e(L.data.size),Z=e=>{B.value=e,t.set("noteTitleHidden",e)},A=e=>{let o=4-e.length,s=[];for(let t=0;t<o;t++)s.push({id:Math.random(),title:""});let n=[...e,...s];V.value=n,t.set("noteList",n)};Boolean(o("token"))&&s({url:"/note/get",method:"get",params:{sort:t.get("noteSort","desc"),limit:4}}).then((e=>{A(e.data)}));const F=e=>{openCard({url:"/noteApp",src:"/static/note.png",origin:L.data})};(null==(z=L.data)?void 0:z.id)&&n(L.data,(e=>{var t;t=e,T.value=t.size}));const J=e=>{A(e)};return a.on("noteLoading",J),l((()=>{a.off("noteLoading",J)})),(e,t)=>{const o=i("el-icon");return r(),d("div",{onContextmenu:t[3]||(t[3]=()=>{}),class:"w-full h-full note"},["1x1"===T.value?(r(),d("div",{key:0,class:"w-full h-full flex items-center justify-center",onClick:F},j)):(r(),d("div",y,[u("div",{class:"note-head",onClick:F},[f(o,{size:"20px"},{default:p((()=>[M])),_:1}),b,u("div",{class:"ml-auto mr-3 pt-1",onClick:t[2]||(t[2]=k((()=>{}),["stop"]))},[B.value?(r(),c(o,{key:0,color:"#fff",onClick:t[0]||(t[0]=k((e=>Z(!1)),["stop"]))},{default:p((()=>[f(h(v))])),_:1})):(r(),c(o,{key:1,color:"#fff",onClick:t[1]||(t[1]=k((e=>Z(!0)),["stop"]))},{default:p((()=>[f(h(C))])),_:1}))])]),u("div",{class:"note-body flex flex-col pt-1",onClick:F},[(r(!0),d(g,null,w(V.value,((e,t)=>(r(),c(m,{key:t},{default:p((()=>{return[u("div",H,x((t=e.title,B.value?t.replace(/./g,"*"):t)),1)];var t})),_:2},1024)))),128))])]))],32)}}};export{_ as default};

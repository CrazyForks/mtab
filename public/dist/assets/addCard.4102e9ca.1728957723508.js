import{_ as a,r as e,u as s,W as t,a as n,b as l,d as i,h as d,p as r,f as o,F as u,g as c,i as p,y as m,k as x,a6 as v,t as b,J as _,aP as h,l as f,T as g,L as y}from"./index.2b069cd0.1728957723508.js";import{a as k}from"./app.5951bbb3.1728957723508.js";import"./sortable.esm.be6d7286.1728957723508.js";import"./index.be48ffa7.1728957723508.js";import"./wangEditor.78bb1bc8.1728957723508.js";const w={class:"addCardWindow"},j={class:"addCardBox mt-0.5"},C={class:"cardItem"},z={class:"text-center text-base text-black"},G={class:"text-center text-gray-700 text-sm",style:{height:"40px",display:"flex","align-items":"center","justify-content":"center"}},I={key:0,class:"rounded-xl overflow-hidden",style:{height:"160px",width:"360px",margin:"auto"}},L=["src"],W={class:"mt-4 flex justify-between"};var B=a({__name:"addCard",setup(a){const B=e(!0),E=s(),F=e([]);t({url:"/card/index"}).then((a=>{1===a.code&&(a.data.map((a=>{k[a.name_en]?(!1===k[a.name_en].auth||E.state.auth)&&F.value.push(a):a.url&&F.value.push(a)})),B.value=!0)}));return(a,e)=>{const s=n("el-empty"),J=n("el-button");return l(),i("div",w,[B.value&&0===F.value.length?(l(),d(s,{key:0,description:"目前还没有卡片应用哟！"})):r("",!0),o("div",j,[(l(!0),i(u,null,c(F.value,((a,s)=>(l(),d(g,{key:s},{default:p((()=>[o("div",C,[o("h3",z,m(a.name),1),o("div",G,[o("span",null,m(a.tips),1)]),x(k)[a.name_en]?(l(),i("div",I,[(l(),d(v(x(k)[a.name_en].card),{data:{...x(k)[a.name_en],size:"2x4"}},null,8,["data"]))])):(l(),i("iframe",{key:1,src:x(b)(a.url),class:"mt-2"},null,8,L)),o("div",W,[o("div",null,[e[0]||(e[0]=o("span",{class:"iconfont icon-redu text-red-500 text-lg"},null,-1)),_(" "+m(x(h)(a.install_num)),1)]),f(J,{onClick:e=>(async a=>{let e={sort:99999,id:y(),name:a.name,name_en:a.name_en,size:"2x4",src:a.src,url:a.url,window:a.window,type:"component",component:"plugins",app:1,tips:a.tips,version:a.version,origin_id:a.id,pageGroup:E.state.pageGroup};E.state.link.push(e),E.commit("updateLink"),await t({url:"/card/install_num",method:"post",data:{id:a.id}})})(a),size:"small",round:"",style:{"background-color":"rgba(243,243,243,0.45)"}},{default:p((()=>e[1]||(e[1]=[_("添加 ")]))),_:2},1032,["onClick"])])])])),_:2},1024)))),128))])])}}},[["__scopeId","data-v-34e4a216"]]);export{B as default};

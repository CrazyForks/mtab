import{r as e,u as a,X as l,b as s,c as t,d as n,e as i,F as c,f as r,g as d,h as u,x as m,k as o,j as g,al as p,T as v,i as x,v as h,a9 as f,Z as E,a1 as y,L as b}from"./index.1706205343582.js";import{_ as k}from"./net.1706205343582.js";const _={class:"searchEngineUserManager"},j=i("div",{class:"searchEngineTitle flex items-center"},[i("img",{src:k,style:{width:"20px",height:"20px"}}),i("span",{class:"ml-1"},"搜索引擎管理")],-1),w=i("div",{class:"mySearchEngine ml-4 text-gray-800"}," 我的搜索引擎 ",-1),F={class:"grid gap-4 mxs:grid-cols-4 grid-cols-6 items-center justify-center mt-4 myEngine"},C={class:"flex flex-col items-center relative"},S=["title","src","alt"],U=["title"],I=["onClick"],z=i("div",{class:"mySearchEngine mt-4 ml-4 text-gray-800"}," 未添加的搜索引擎 ",-1),L={class:"grid gap-4 mxs:grid-cols-4 grid-cols-6 items-center justify-center mt-4"},O={class:"flex relative flex-col items-center"},T=["title","src","alt"],V=["title"],M=["onClick"],N=i("div",{class:"mySearchEngine mt-4 ml-4 text-gray-800"}," 自定义搜索引擎 ",-1),R={class:"flex gap-4 px-4 pt-3 items-center flex-wrap"},X={__name:"addSearchEngine",setup(k){const X=e({name:"",icon:"/static/searchEngine/net.svg",url:""}),Z=a(),q=e(Object.assign([],Z.state.searchEngine)),A=e([]);l({url:"/searchEngine/index"}).then((e=>{1===e.code&&(A.value=e.data)}));const B=e=>-1===q.value.findIndex((a=>a.name===e.name)),D=e=>{if(q.value.length>=20)return void b.warning("最大可以添加20个搜索引擎");q.value.findIndex((a=>a.name===e.name))>=0?b.warning("您已添加过该搜索引擎"):(q.value.push(e),H())},G=()=>{X.value.name.trim()&&X.value.url.trim()&&(D(Object.assign({},X.value)),X.value.name="",X.value.url="")},H=()=>{Z.state.searchEngine=q.value,Z.commit("updateSearchEngine")};return(e,a)=>{const l=s("el-icon"),k=s("el-button");return t(),n("div",_,[j,w,i("div",F,[(t(!0),n(c,null,r(q.value,((e,a)=>(t(),d(v,null,{default:u((()=>[i("div",C,[i("img",{title:e.tips,style:{width:"50px",height:"50px","background-color":"#F3F3F3","border-radius":"6px",padding:"8px"},src:e.icon,alt:e.name},null,8,S),i("span",{class:"mt-2 text-xs",title:e.tips},m(e.name),9,U),i("div",{class:"search-del-ico",onClick:a=>(e=>{const a=q.value.findIndex((a=>a.name===e.name));q.value.splice(a,1),0===q.value.length&&b.warning("至少需要保留一个搜索引擎"),H()})(e)},[o(l,{color:"#fff",size:"16px"},{default:u((()=>[o(g(p))])),_:1})],8,I)])])),_:2},1024)))),256))]),z,i("div",L,[(t(!0),n(c,null,r(A.value,((e,a)=>(t(),d(v,null,{default:u((()=>[x(i("div",O,[i("img",{title:e.tips,style:{width:"50px",height:"50px","background-color":"#F3F3F3","border-radius":"6px",padding:"8px"},src:e.icon,alt:e.name},null,8,T),i("span",{class:"mt-2 text-xs",title:e.tips},m(e.name),9,V),i("div",{class:"search-add-ico",onClick:a=>D(e)},[o(l,{color:"#fff",size:"16px"},{default:u((()=>[o(g(f))])),_:1})],8,M)],512),[[h,B(e)]])])),_:2},1024)))),256))]),N,i("div",R,[x(i("input",{class:"customEngineName",placeholder:"请输入引擎名称","onUpdate:modelValue":a[0]||(a[0]=e=>X.value.name=e)},null,512),[[E,X.value.name]]),x(i("input",{"onUpdate:modelValue":a[1]||(a[1]=e=>X.value.url=e),class:"customEngineUrl",placeholder:"自定义引擎URL，搜索词参数部分用{1}代替"},null,512),[[E,X.value.url]]),o(k,{onClick:G,class:"addCustom"},{default:u((()=>[y("添加")])),_:1})])])}}};export{X as default};
